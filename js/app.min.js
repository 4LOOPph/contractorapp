!function(){"use strict";angular.module("contractor",["ngAnimate","ngCookies","ngTouch","ngSanitize","ngAnimate","mgcrea.ngStrap","ui.router","ui.footable","ui.select","restangular","toastr","chart.js","angular.morris","ui.bootstrap","angularMoment","angularSpinner","ng.deviceDetector","kk.timepicker","angularFileUpload","ngMask","ngFileUpload","ngDialog","textAngular","angularRipple","angucomplete-alt","LocalStorageModule"]).constant("API_URL","http://52.64.27.145:5001").constant("API_VERSION","/api/1.0/").config(["$provide","$stateProvider","$urlRouterProvider","$locationProvider","uiSelectConfig","RestangularProvider","API_URL","$httpProvider","localStorageServiceProvider",function(e,t,n,o,r,i,a,s,l){n.otherwise("/login"),o.html5Mode(!1),r.theme="bootstrap",s.interceptors.push("httpInterceptor"),e.value("baseURL",a),i.setBaseUrl(a+"/1.0/")}]).run(["$rootScope","$state","usSpinnerService","deviceDetector","$window",function(e,t,n,o,r){e.$state=t,e.$on("loading:progress",function(){n.spin("spinner-1")}),e.$on("loading:finish",function(){n.stop("spinner-1")});var o=o;o.isMobile()&&!o.isTablet()?r.location.href="./mobile/index.html":o.isMobile()&&o.isTablet()&&(r.location.href="./mobile/index.html")}]).factory("_",["$window",function(e){return e._}]).factory("httpInterceptor",["$q","$rootScope",function(e,t){var n=0;return{request:function(o){return 1===++n&&t.$broadcast("loading:progress"),o||e.when(o)},response:function(o){return 0===--n&&t.$broadcast("loading:finish"),o||e.when(o)},responseError:function(o){return 0===--n&&t.$broadcast("loading:finish"),e.reject(o)}}}])}();
!function(){"use strict";function a(a,e){a.state("login",{url:"/login",templateUrl:"modules/main/login.html",controller:"MainCtrl"}).state("vendorinfo",{url:"/vendorinfo",templateUrl:"modules/application/vendorInfo.html",controller:"VendorInfoCtrl"}).state("qualification",{url:"/qualification",templateUrl:"modules/application/qualification.html",controller:"vendorQualificationCtrl"}).state("payment",{url:"/payment",templateUrl:"modules/application/payment.html",controller:"vendorRatetCtrl"}).state("terms",{url:"/terms",templateUrl:"modules/main/termscondition.html",controller:"MainCtrl"}).state("applicsent",{url:"/applicationsent",templateUrl:"modules/main/applicsent.html",controller:"MainCtrl"}).state("dashboard",{url:"/dashboard",templateUrl:"modules/main/dash.html",controller:"dashCtrl"}).state("dashtabs",{url:"/dashboardtabs",templateUrl:"modules/main/dashtabs.html",controller:"dashCtrl"})}function e(){return{restrict:"E",templateUrl:"./modules/main/header.html",compile:function(a,e,t){$.AdminLTE.pushMenu($(a).find(".sidebar-toggle"))}}}function t(a,e,t,o,n,r,l,i){a.input=[],a.inputs=[],a.test={},a.data={},a.showstartCard=!0,a.showsecondCard=!1,a.showthirdCard=!1,a.location={},a.ratesList=[],a.rates={},a.loading=!1,a.settings={"default":function(){var a=new Date;return a}},t(function(){a.loading=!0},1500),a.data={},a.data.availabilityArr=[],a.data.coverageArr=[],a.avail={},a.area={},a.clickToCancel=function(){console.log("clickToCancel"),o.openConfirm({templateUrl:"modules/main/dialog/cancel.html",className:"ngdialog-theme-default",scope:a}).then(function(){console.log("YES")},function(){console.log("NO")})},a.submitForm=function(){a.userForm.$valid&&n.go("payment")},a.onApplyTimePicker=function(){console.log("Time range applied.")},a.onClearTimePicker=function(){console.log("Time range current operation cancelled.")},a.baseRate=[{id:0,value:"Monday"},{id:1,value:"Tuesday"},{id:2,value:"Wednesday"},{id:3,value:"Thursday"},{id:4,value:"Friday"},{id:5,value:"Saturday"},{id:"6",value:"Sunday"}],a.hideCard=function(){a.showstartCard=!1,a.showsecondCard=!0},a.hideCard1=function(){a.showsecondCard=!1,a.showstartCard=!0},a.hideC=function(){a.showsecondCard=!1},a.showCard3=function(){a.showthirdCard=!0},a.addSched=function(){a.inputs.push({})},a.addLocation=function(){a.input.push({})},a.onApplyTimePicker=function(){console.log("Time range applied.")},a.onClearTimePicker=function(){console.log("Time range current operation cancelled.")},a.addArea=function(e){e&&(a.data.coverageArr.push({area:e}),a.area.coverage="")},a.uploadPic=function(o){o.upload=e.upload({url:"https://angular-file-upload-cors-srv.appspot.com/upload",data:{username:a.username,file:o}}),o.upload.then(function(a){t(function(){o.result=a.data})},function(e){e.status>0&&(a.errorMsg=e.status+": "+e.data)},function(a){o.progress=Math.min(100,parseInt(100*a.loaded/a.total))})},a.login=function(){if(_.isEmpty(a.data.username)||_.isEmpty(a.data.password))r.error("Username and Password are required!!!","Error");else{var e=l.login(a.data.username,a.data.password),o=i.login(a.data.username,a.data.password);if(console.log("result-> ",e),console.log("result2-> ",o),!_.isNull(e))return void t(function(){r.success("success"),n.go("main.admindash")},1e3);if(!_.isNull(o))return void t(function(){r.success("success"),n.go("main.admindash")},1e3);_.isNull(e)?t(function(){r.error("Username and Password not match!!!","Invalid Account")},600):_.isNull(o)&&t(function(){r.error("Username and Password not match!!!","Invalid Account")},600)}}}angular.module("contractor").config(a).directive("appHeader",e).controller("MainCtrl",t),a.$inject=["$stateProvider","$urlRouterProvider"],t.$inject=["$scope","Upload","$timeout","ngDialog","$state","toastr","ProcurementManager","Contractor"]}();
!function(){"use strict";function e(e,o,n){e.othersList=[],e.others={},e.clickToCancel=function(){console.log("clickToCancel"),n.openConfirm({title:"sdsdsd",templateUrl:"modules/main/dialog/cancel.html",className:"ngdialog-theme-default",scope:e}).then(function(){console.log("YES")},function(){console.log("NO")})},e.clickToOpen=function(){console.log("clickToOpen"),n.openConfirm({title:"",templateUrl:"modules/main/dialog/submit.html",className:"ngdialog-theme-default",scope:e}).then(function(){console.log("YES")},function(){console.log("NO")})},e.addOthers=function(o){_.isEmpty(o)||(e.othersList.push(o),e.others={})},e.removeOther=function(o){e.othersList.splice(o,1)};var t=e.uploader=new o({});t.filters.push({name:"customFilter",fn:function(e,o){return this.queue.length<10}});var l=e.uploader1=new o({});l.filters.push({name:"customFilter",fn:function(e,o){return this.queue.length<10}})}angular.module("contractor").controller("qualificationCtrl",e),e.$inject=["$scope","FileUploader","ngDialog"]}();
!function(){"use strict";function o(o,n,e,t,a){console.log("paymentCtrl: "),o.data={},o.rate={},o.inputs=[],o.test={},o.data={},o.showstartCard=!0,o.showsecondCard=!1,o.showthirdCard=!1,o.ratesList=[],o.rates={},o.banks=[],o.banksCopy=[],o.baseRate=[{id:0,value:"Base Rate"},{id:1,value:"After Hours"},{id:"2",value:"Weekend"}],o.clickToOpen=function(){console.log("clickToOpen"),n.openConfirm({templateUrl:"modules/main/dialog/submit.html",className:"ngdialog-theme-default",scope:o}).then(function(){console.log("YES")},function(){console.log("NO")})},o.clickToCancel=function(){console.log("clickToCancel"),n.openConfirm({templateUrl:"modules/main/dialog/cancel.html",className:"ngdialog-theme-default",scope:o}).then(function(){console.log("YES")},function(){console.log("NO")})},o.hideCard=function(){o.showstartCard=!1,o.showsecondCard=!0},o.hideCard1=function(){o.showsecondCard=!1,o.showstartCard=!0},o.hideC=function(){o.showsecondCard=!1},o.showCard3=function(){o.showthirdCard=!0},o.addSched=function(){o.inputs.push({})},o.removeOther=function(n){o.ratesList.splice(n,1)},a.all().then(function(n){o.banks=n.data,_.each(o.banks,function(n){o.banksCopy.push({id:n.id,name:n.name,view:n.name})})}),o.selectedCountry=function(o){console.log(o.description.id),console.log(o.originalObject)},o.proceedNext=function(){t.go("qualification")}}angular.module("contractor").controller("paymentCtrl",o),o.$inject=["$scope","ngDialog","$filter","$state","Banks"]}();
!function(){"use strict";function d(d){d.showstartCard=!0,d.showsecondCard=!1,d.showthirdCard=!1,d.hideCard=function(){d.showstartCard=!1,d.showsecondCard=!0,d.showthirdCard=!1},d.hideCard1=function(){d.showsecondCard=!1,d.showstartCard=!0,d.showthirdCard=!1},d.hideC=function(){d.showsecondCard=!1},d.hideCard3=function(){d.showthirdCard=!0,d.showsecondCard=!1,d.showstartCard=!1}}angular.module("contractor").controller("dashCtrl",d),d.$inject=["$scope"]}();
!function(){"use strict";function t(t,a){t.state("main",{url:"/main",templateUrl:"modules/admin/main.html",controller:"adminmainCtrl","abstract":!0}).state("main.admindash",{url:"/admindashboard",views:{"main-view":{templateUrl:"modules/admin/admiindashboard.html",controller:"admindashCtrl"}}}).state("main.admintask",{url:"/admintask",views:{"main-view":{templateUrl:"modules/admin/admintask.html",controller:"admintaskCtrl"}}}).state("main.newtasklist",{url:"/admintask/newtasklist",views:{"main-view":{templateUrl:"modules/admin/newtasklist.html",controller:"admindashCtrl"}}}).state("main.taskinprogresslist",{url:"/admintask/taskinprogresslist",views:{"main-view":{templateUrl:"modules/admin/taskinprogresslist.html",controller:"admindashCtrl"}}}).state("main.pendingtasklist",{url:"/admintask/pendingtasklist",views:{"main-view":{templateUrl:"modules/admin/pendingtasklist.html",controller:"admintaskCtrl"}}}).state("main.completedtasklist",{url:"/admintask/completedtasklist",views:{"main-view":{templateUrl:"modules/admin/completedtasklist.html",controller:"admindashCtrl"}}}).state("main.taskdetails",{url:"/admintask/:taskId/taskdetails",views:{"main-view":{templateUrl:"modules/admin/taskdetails.html",controller:"admindashCtrl"}}}).state("main.completedtask",{url:"/admintask/completed",views:{"main-view":{templateUrl:"modules/admin/completedtask.html",controller:"admindashCtrl"}}}).state("main.forapprovaltask",{url:"/admintask/:taskId/forapproval",views:{"main-view":{templateUrl:"modules/admin/forapprovaltask.html",controller:"admintaskCtrl"}}}).state("main.qowlist",{url:"/admintask/:taskId/qowlist",views:{"main-view":{templateUrl:"modules/admin/qowlist.html",controller:"admindashCtrl"}}}).state("main.adminreports",{url:"/adminreports",views:{"main-view":{templateUrl:"modules/admin/adminreports.html",controller:"admindashCtrl"}}}).state("main.supportreport",{url:"/adminreports/supportreport",views:{"main-view":{templateUrl:"modules/admin/supportreport.html",controller:"admindashCtrl"}}}).state("main.sitesurveyreport",{url:"/adminreports/sitesurveyreport",views:{"main-view":{templateUrl:"modules/admin/sitesurveyreport.html",controller:"admindashCtrl"}}}).state("main.userprofile",{url:"/adminreports/userprofile",views:{"main-view":{templateUrl:"modules/admin/userprofile.html",controller:"admindashCtrl"}}})}function a(t){t.test={},t.data={},t.showstartCard=!0,t.showsecondCard=!1,t.showthirdCard=!1,t.hideCard=function(){t.showstartCard=!1,t.showsecondCard=!0},t.hideCard1=function(){t.showsecondCard=!1,t.showstartCard=!0},t.hideC=function(){t.showsecondCard=!1},t.showCard3=function(){t.showthirdCard=!0}}angular.module("contractor").config(t).controller("AdminCtrl",a),t.$inject=["$stateProvider","$urlRouterProvider"],a.$inject=["$scope"]}();
!function(){"use strict";function t(t,a,e,o,n,s,c,r,i,l,d,u,f,h,p,g){t.newdate=new Date,t.showstartCard=!0,t.showsecondCard=!1,t.showthirdCard=!1,t.items=["item1","item2","item3"],t.animationsEnabled=!0,t.toggle=!0,t.toggle2=!0,t.totalItems=64,t.currentPage=1,t.maxSize=5,t.bigTotalItems=175,t.bigCurrentPage=1,t.loading=!0,t.task={},t.progressData=[],t.pendingData=[],t.completedData=[],t.newTaskData=[],t.reportsData=[],t.tasklist=[],f.taskId?(l.findById(f.taskId).then(function(a){t.task=a[0]}),t.$watch("task",function(a){t.task=a,console.log("$scope.quotes: ",t.task.quotes),_.each(t.task.quotes,function(t){var a=0;_.each(t.descriptions,function(t){a+=parseFloat(t.rate)}),t.grossothers=a,t.totalothers=parseFloat(t.material_fee)+parseFloat(t.parking_fee)+parseFloat(t.travel_fee)+parseFloat(t.grossothers)})})):(t.task={},t.task.contractors=[],t.contractorData=[],t.contractors=[],h.find().then(function(a){t.contractorData=a,_.each(t.contractorData,function(t){t.checked=!1});for(var e=0;e<=2;e++)_.isUndefined(t.contractorData[e])||t.contractors.push(t.contractorData[e])})),l.find().then(function(a){_.each(a,function(a){a.reporter.id==d.user().id&&(t.tasklist.push(a),console.log("row: ",a._id))})}),t.$watch("tasklist",function(a){t.newTaskData=a,_.each(t.newTaskData,function(a){var e=0,o=0,n=0;_.each(a.quotes,function(t){t.approved&&"progress"!=t.status&&"completed"!=t.status&&e++,t.approved&&"progress"==t.status&&n++,t.approved&&"completed"==t.status&&o++,_.isUndefined(t.check)||"in"!=t.check?_.isUndefined(t.check)||"out"!=t.check||(a.checkStatus="out"):a.checkStatus="in"}),e>0&&(t.pendingData.push(a),e=0),n>0&&(t.progressData.push(a),n=0),o>0&&(t.completedData.push(a),o=0)}),_.each(t.pendingData,function(a){_.remove(t.newTaskData,function(t){return t._id==a._id})}),_.each(t.progressData,function(a){_.remove(t.newTaskData,function(t){return t._id==a._id}),_.remove(t.pendingData,function(t){return t._id==a._id}),_.remove(t.completedData,function(t){return t._id==a._id})}),_.each(t.completedData,function(a){_.remove(t.newTaskData,function(t){return t._id==a._id})}),t.$broadcast("scroll.refreshComplete")}),t.reportsData=u.all(),console.log(t.reportsData),t.scrollTo=function(t){c.hash(t),console.log(c.hash()),r()},s(function(){t.loading=!1},1500),t.setPage=function(a){t.currentPage=a},t.pageChanged=function(){o.log("Page changed to: "+t.currentPage)},t.$watch("toggle",function(){t.toggleText=t.toggle?"More":"Less"}),t.$watch("toggle2",function(){t.toggleText2=t.toggle2?"More":"Less"});var m=t.uploader=new n({});m.filters.push({name:"customFilter",fn:function(t,a){return this.queue.length<10}}),t.deTails=function(t){console.log(t),a.go("main.forapprovaltask",{taskId:t._id})},t.showConfirm=function(e){p.openConfirm({title:"",templateUrl:"modules/main/dialog/submitQuote.html",className:"ngdialog-theme-default",scope:t}).then(function(){console.log("YES"),_.each(t.task.quotes,function(t){t._id==e._id&&(t.approved=!0)}),l.findByIdAndUpdate(f.taskId,t.task).then(function(t){console.log(t),t&&(g.success("Quote Successfully Approved."),a.go("main.admintask"))})},function(){console.log("NO")})},t.openListMod=function(a){var n=e.open({animation:t.animationsEnabled,size:"lg",templateUrl:"modules/admin/modal/quotelist.html",controller:"modalInstanceCtrl",resolve:{items:function(){return{quoteId:a._id,taskId:t.task._id}}}});n.result.then(function(a){t.selected=a},function(){o.info("Modal dismissed at: "+new Date)})},t.cancel=function(){$uibModalInstance.dismiss("cancel")},t.openMod=function(){var a=e.open({animation:t.animationsEnabled,size:"lg",templateUrl:"modules/admin/modal/addtask.html",controller:"modalInstanceCtrl",resolve:{items:function(){return t.items}}});a.result.then(function(a){t.selected=a},function(){o.info("Modal dismissed at: "+new Date)})},t.cancel=function(){$uibModalInstance.dismiss("cancel")},t.toggleAnimation=function(){t.animationsEnabled=!t.animationsEnabled},t.hideCard=function(){t.showstartCard=!1,t.showsecondCard=!0,t.showthirdCard=!1},t.hideCard1=function(){t.showsecondCard=!1,t.showstartCard=!0,t.showthirdCard=!1},t.hideC=function(){t.showsecondCard=!1},t.hideCard3=function(){t.showthirdCard=!0,t.showsecondCard=!1,t.showstartCard=!1},t.uploadPic=function(a){a.upload=i.upload({url:"https://angular-file-upload-cors-srv.appspot.com/upload",data:{username:t.username,file:a}}),a.upload.then(function(t){s(function(){a.result=t.data})},function(a){a.status>0&&(t.errorMsg=a.status+": "+a.data)},function(t){a.progress=Math.min(100,parseInt(100*t.loaded/t.total))})}}function a(t,a,e,o,n,s,c,r,i,l,d,u,f){console.log("sulod"),t.task={},t.data={},t.task.contractors=[],t.taskTypes=[],t.priorities=[],t.items=n,t.selected={item:t.items[0]},t.totalItems=64,t.currentPage=1,t.maxSize=3,t.bigTotalItems=175,t.bigCurrentPage=1,t.contractorData=[],t.contractors=[],t.contractor=[],t.taskTypes=d.all(),t.priorities=d.priorities(),n.quoteId&&(console.log(n.quoteId),u.findById(n.taskId).then(function(a){t.task=a[0]}),t.$watch("task",function(a){t.task=a,t.data=_.find(t.task.quotes,{_id:n.quoteId}),t.data.totalMisc=parseFloat(t.data.parking_fee)+parseFloat(t.data.travel_fee),console.log("$scope.qoute: ",t.data)})),i.find().then(function(a){t.contractorData=a,_.each(t.contractorData,function(t){t.checked=!1});for(var e=0;e<=2;e++)_.isUndefined(t.contractorData[e])||t.contractors.push(t.contractorData[e]);for(var e=3;e<=a.length;e++)_.isUndefined(t.contractorData[e])||t.contractor.push(t.contractorData[e])}),t.showConfirm=function(e){f.openConfirm({title:"",templateUrl:"modules/main/dialog/submitQuote.html",className:"ngdialog-theme-default",scope:t}).then(function(){console.log("YES"),_.each(t.task.quotes,function(t){t._id==e._id&&(t.approved=!0)}),u.findByIdAndUpdate(n.taskId,t.task).then(function(t){console.log(t),t&&(o.success("Quote Successfully Approved."),a.go("main.admintask"))})},function(){console.log("NO")})},t.setPage=function(a){t.currentPage=a},t.scrollTo=function(t){c.hash(t),console.log(c.hash()),r()},t.pageChanged=function(){$log.log("Page changed to: "+t.currentPage)},t.myVar=!1,t.toggle=function(){t.myVar=!t.myVar};var h=t.uploader=new s({});h.filters.push({name:"customFilter",fn:function(t,a){return this.queue.length<10}}),t.ok=function(){e.close(t.selected.item)},t.cancel=function(){e.dismiss("cancel")},t.addContractoTask=function(a){console.log("con: ",a),a.checked?t.task.contractors.push(a):_.remove(t.task.contractors,function(t){return t._id==a._id}),console.log("$scope.task.contractors: ",t.task.contractors)},t.createTask=function(e){console.log(t.task.deadline),console.log(t.task.date_requested),e.$valid&&(_.isEmpty(t.task)||(t.task.reporter=l.user(),_.isUndefined(t.task.priority&&t.task.tasktype&&t.task.deadline&&t.task.date_requested)||u.create(t.task).then(function(e){e&&(o.success("Task Successfully Sent."),t.ok(),a.go("main.admindash"))})))}}angular.module("contractor").controller("admindashCtrl",t).controller("modalInstanceCtrl",a),t.$inject=["$scope","$state","$uibModal","$log","FileUploader","$timeout","$location","$anchorScroll","Upload","Tasks","CurrentUser","Reports","$stateParams","Contractor","ngDialog","toastr"],a.$inject=["$scope","$state","$uibModalInstance","toastr","items","FileUploader","$location","$anchorScroll","Contractor","CurrentUser","TaskTypes","Tasks","ngDialog"]}();
!function(){"use strict";function t(t,a,o,e,s,r,n){t.showstartCard=!0,t.showsecondCard=!1,t.showthirdCard=!1,t.task={},t.task.contractors=[],t.completeTask=!1,t.taskTypes=[],t.priorities=[],t.progressData=[],t.pendingData=[],t.completedData=[],t.newTaskData=[],t.reportsData=[],t.tasklist=[],s.taskId?a.findById(s.taskId).then(function(a){t.task=a[0]}):(t.task={},t.task.contractors=[],t.taskTypes=r.all(),t.priorities=r.priorities(),t.contractorData=[],t.contractors=[],t.contractor=[],o.find().then(function(a){t.contractorData=a,_.each(t.contractorData,function(t){t.checked=!1});for(var o=0;o<=2;o++)_.isUndefined(t.contractorData[o])||t.contractors.push(t.contractorData[o]);for(var o=2;o<=a.length;o++)_.isUndefined(t.contractorData[o])||t.contractor.push(t.contractorData[o])})),a.find().then(function(a){console.log(a),_.each(a,function(a){a.reporter.id==n.user().id&&(t.tasklist.push(a),console.log("row: ",a._id))})}),t.$watch("tasklist",function(a){t.newTaskData=a,_.each(t.newTaskData,function(a){var o=0,e=0,s=0;_.each(a.quotes,function(t){t.approved&&"progress"!=t.status&&"completed"!=t.status&&o++,t.approved&&"progress"==t.status&&s++,t.approved&&"completed"==t.status&&e++,_.isUndefined(t.check)||"in"!=t.check?_.isUndefined(t.check)||"out"!=t.check||(a.checkStatus="out"):a.checkStatus="in"}),o>0&&(t.pendingData.push(a),o=0),s>0&&(t.progressData.push(a),s=0),e>0&&(t.completedData.push(a),e=0)}),_.each(t.pendingData,function(a){_.remove(t.newTaskData,function(t){return t._id==a._id})}),_.each(t.progressData,function(a){_.remove(t.newTaskData,function(t){return t._id==a._id}),_.remove(t.pendingData,function(t){return t._id==a._id}),_.remove(t.completedData,function(t){return t._id==a._id})}),_.each(t.completedData,function(a){_.remove(t.newTaskData,function(t){return t._id==a._id})}),t.$broadcast("scroll.refreshComplete")}),s.taskId&&(a.findById(s.taskId).then(function(a){t.task=a[0]}),t.$watch("task",function(a){t.task=a,console.log("$scope.quotes: ",t.task.quotes),_.each(t.task.quotes,function(t){var a=0;_.each(t.descriptions,function(t){a+=parseFloat(t.rate)}),t.grossothers=a,t.totalothers=parseFloat(t.material_fee)+parseFloat(t.parking_fee)+parseFloat(t.travel_fee)+parseFloat(t.grossothers)})})),t.deTails=function(t){console.log(t),e.go("main.forapprovaltask",{taskId:t._id})},t.qowlist=function(t){console.log(t),e.go("main.qowlist",{taskId:t._id})},t.hideCard=function(){t.showstartCard=!1,t.showsecondCard=!0,t.showthirdCard=!1},t.hideCard1=function(){t.showsecondCard=!1,t.showstartCard=!0,t.showthirdCard=!1},t.hideC=function(){t.showsecondCard=!1},t.hideCard3=function(){t.showthirdCard=!0,t.showsecondCard=!1,t.showstartCard=!1}}angular.module("contractor").controller("admintaskCtrl",t),t.$inject=["$scope","Tasks","Contractor","$state","$stateParams","TaskTypes","CurrentUser"]}();
!function(){"use strict";function n(n,o){n.loadingscreen=!1,o(function(){n.loadingscreen=!0},1e3)}angular.module("contractor").controller("adminmainCtrl",n),n.$inject=["$scope","$timeout"]}();
!function(){"use strict";function a(a,e,t,i,o,r,n,l,d,c){a.input=[],a.inputs=[],a.test={},a.data={},a.showstartCard=!0,a.showsecondCard=!1,a.showthirdCard=!1,a.location={},a.ratesList=[],a.rates={},a.settings={"default":function(){var a=new Date;return a}},a.data.availabilityArr=[],a.data.coverageArr=[],a.avail={},a.area={},a.countries=r.all(),a.cities=[],a.citiesCopy=[],a.clickToCancel=function(){console.log("clickToCancel"),o.openConfirm({templateUrl:"modules/main/dialog/cancel.html",className:"ngdialog-theme-default",scope:a}).then(function(){console.log("YES"),c.remove("tmpvendor")},function(){console.log("NO")})},a.onApplyTimePicker=function(){console.log("Time range applied.")},a.onClearTimePicker=function(){console.log("Time range current operation cancelled.")},a.baseRate=[{id:0,value:"Monday"},{id:1,value:"Tuesday"},{id:2,value:"Wednesday"},{id:3,value:"Thursday"},{id:4,value:"Friday"},{id:5,value:"Saturday"},{id:"6",value:"Sunday"}],a.getCountryState=function(e){"AUS"==e?a.states=l.all():a.states=[]},a.getCityState=function(e){console.log("getCityState: ",e),n.all(e).then(function(e){a.cities=e.data;var t=0;_.each(a.cities,function(e){a.citiesCopy.push({id:t,name:e.place_name,view:e.place_name}),t++})})},a.hideCard=function(){a.showstartCard=!1,a.showsecondCard=!0},a.hideCard1=function(){a.showsecondCard=!1,a.showstartCard=!0},a.hideC=function(){a.showsecondCard=!1},a.showCard3=function(){a.showthirdCard=!0},a.addSched=function(e){e&&(a.data.availabilityArr.push({availability:e.availability,start:e.start,end:e.end}),a.avail.availability="",a.avail.start="",a.avail.end="")},a.addLocation=function(e){console.log("item: ",e),e&&(a.data.coverageArr.push({area:e}),console.log(a.data.coverageArr),a.area.coverage="")},a.onApplyTimePicker=function(){console.log("Time range applied.")},a.onClearTimePicker=function(){console.log("Time range current operation cancelled.")},a.addArea=function(e){e&&(a.data.coverageArr.push({area:e}),a.area.coverage="")},a.uploadPic=function(e){e.upload=t.upload({url:"https://angular-file-upload-cors-srv.appspot.com/upload",data:{username:a.username,file:e}}),e.upload.then(function(a){i(function(){e.result=a.data})},function(e){e.status>0&&(a.errorMsg=e.status+": "+e.data)},function(a){e.progress=Math.min(100,parseInt(100*a.loaded/a.total))})},a.vendorinfo=function(){return _.isUndefined(a.area.coverage)&&a.data.coverageArr.length<1?void d.error("Area of Coverage are required!"):_.isUndefined(a.avail.availability)&&a.data.availabilityArr.length<1?void d.error("Availability are required!"):(a.avail.availability&&(a.data.availabilityArr.push({availability:a.avail.availability,start:a.avail.start,end:a.avail.end}),a.avail.availability="",a.avail.start="",a.avail.end=""),a.area.coverage&&(a.data.coverageArr.push({area:a.area.coverage}),a.area.coverage=""),a.data.username=_.trim(_.lowerCase(a.data.lname))+"."+_.trim(_.lowerCase(a.data.fname)),a.data.password="123456",console.log(a.data.username),c.set("tmpvendor",JSON.stringify(a.data)),void e.go("payment"))}}angular.module("contractor").controller("VendorInfoCtrl",a),a.$inject=["$scope","$state","Upload","$timeout","ngDialog","Country","CityState","States","toastr","localStorageService"]}();
!function(){"use strict";function a(a,t,e,n,o,c){console.log("vendorRatetCtrl: "),a.data={},a.rate={},a.inputs=[],a.test={},a.data={},a.showstartCard=!0,a.showsecondCard=!1,a.showthirdCard=!1,a.ratesList=[],a.rates={},a.banks=[],a.banksCopy=[],a.baseRate=[{id:0,value:"Base Rate"},{id:1,value:"After Hours"},{id:"2",value:"Weekend"}],a.clickToOpen=function(){console.log("clickToOpen"),t.openConfirm({templateUrl:"modules/main/dialog/submit.html",className:"ngdialog-theme-default",scope:a}).then(function(){console.log("YES")},function(){console.log("NO")})},a.clickToCancel=function(){console.log("clickToCancel"),t.openConfirm({templateUrl:"modules/main/dialog/cancel.html",className:"ngdialog-theme-default",scope:a}).then(function(){console.log("YES")},function(){console.log("NO")})},a.hideCard=function(){a.showstartCard=!1,a.showsecondCard=!0},a.hideCard1=function(){a.showsecondCard=!1,a.showstartCard=!0},a.hideC=function(){a.showsecondCard=!1},a.showCard3=function(){a.showthirdCard=!0},a.addSched=function(){a.inputs.push({})},a.removeOther=function(t){a.ratesList.splice(t,1)},o.all().then(function(t){a.banks=t.data,_.each(a.banks,function(t){a.banksCopy.push({id:t.id,name:t.name,view:t.name})})}),a.selectedCountry=function(t){console.log(t.description.id),console.log(t.originalObject),a.data.bankname=t.originalObject.name},a.vendorRate=function(){a.data.standard||(a.data.ratestandard=""),a.data.other||(a.data.other_base_hours="",a.data.other_after_hours="",a.data.other_weekends=""),a.data.direct||(a.data.bankaccount="",a.data.bankaccountnum="",a.data.bankbranch="",a.data.bankbsb="",a.data.bankname=""),a.data.check||a.data.check_prefer_info||(a.data.check_country="",a.data.check_state="",a.data.check_city="",a.data.check_address="",a.data.check_postcode=""),console.log(a.data.bankname),c.set("tmpvendorrate",JSON.stringify(a.data)),n.go("qualification")}}angular.module("contractor").controller("vendorRatetCtrl",a),a.$inject=["$scope","ngDialog","$filter","$state","Banks","localStorageService"]}();
!function(){"use strict";function e(e,o,t,n,l,c){e.othersList=[],e.others={},e.clickToCancel=function(){console.log("clickToCancel"),n.openConfirm({title:"sdsdsd",templateUrl:"modules/main/dialog/cancel.html",className:"ngdialog-theme-default",scope:e}).then(function(){console.log("YES")},function(){console.log("NO")})},e.clickToOpen=function(){console.log("clickToOpen"),n.openConfirm({title:"",templateUrl:"modules/main/dialog/submit.html",className:"ngdialog-theme-default",scope:e}).then(function(){console.log("YES");var t=JSON.parse(l.get("tmpvendor"))||{},n=JSON.parse(l.get("tmpvendorrate"))||{},i=_.extend(t,n,e.data);e.data=i,c.create(e.data).then(function(e){console.log("resp: ",e),e&&(l.remove("tmpvendor"),l.remove("tmpvendorrate"),o.go("applicsent",{id:t._id}))})},function(){console.log("NO")})},e.addOthers=function(o){_.isEmpty(o)||(e.othersList.push(o),e.others={})},e.removeOther=function(o){e.othersList.splice(o,1)};var i=e.uploader=new t({});i.filters.push({name:"customFilter",fn:function(e,o){return this.queue.length<10}});var r=e.uploader1=new t({});r.filters.push({name:"customFilter",fn:function(e,o){return this.queue.length<10}})}angular.module("contractor").controller("vendorQualificationCtrl",e),e.$inject=["$scope","$state","FileUploader","ngDialog","localStorageService","Contractor"]}();
!function(){"use strict";function t(t,o,e,a,n,s){console.log("quote list"),n.taskId&&(a.findById(n.taskId).then(function(o){t.task=o[0]}),t.$watch("task",function(o){t.task=o,console.log("$scope.quotes: ",t.task.quotes),_.each(t.task.quotes,function(t){var o=0;_.each(t.descriptions,function(t){o+=parseFloat(t.rate)}),t.grossothers=o,t.totalothers=parseFloat(t.material_fee)+parseFloat(t.parking_fee)+parseFloat(t.travel_fee)+parseFloat(t.grossothers)})})),t.showConfirm=function(e){s.openConfirm({title:"",templateUrl:"modules/main/dialog/submitQuote.html",className:"ngdialog-theme-default",scope:t}).then(function(){console.log("YES"),_.each(t.task.quotes,function(t){t._id==e._id&&(t.approved=!0)}),a.findByIdAndUpdate(n.taskId,t.task).then(function(t){console.log(t),t&&(toastr.success("Quote Successfully Approved."),o.go("main.admintask"))})},function(){console.log("NO")})},t.openListMod=function(){var o=$uibModal.open({animation:t.animationsEnabled,size:"lg",templateUrl:"modules/admin/modal/quotelist.html",controller:"modalInstanceCtrl",resolve:{items:function(){return t.items}}});o.result.then(function(o){t.selected=o},function(){$log.info("Modal dismissed at: "+new Date)})},t.viewApproval=function(e){$ionicViewSwitcher.nextDirection("forward"),o.go("approve",{quoteId:e._id,taskId:t.task._id})},t.gotToProfile=function(t){console.log("user: ",t._id),$ionicViewSwitcher.nextDirection("forward"),o.go("userprofile",{userId:t._id})}}function o(t,o,e,a,n){t.task={},t.data={},t.$on("$ionicView.beforeEnter",function(o,n){a.quoteId&&(e.findById(a.taskId).then(function(o){t.task=o[0]}),t.$watch("task",function(o){t.task=o,t.data=_.find(t.task.quotes,{_id:a.quoteId}),t.data.totalMisc=parseFloat(t.data.parking_fee)+parseFloat(t.data.travel_fee),console.log("$scope.qoute: ",t.data)}))}),t.gotToProfile=function(t){console.log("user: ",t._id),n.nextDirection("forward"),o.go("userprofile",{userId:t._id})}}angular.module("contractor").controller("ProcurementQoutesCtrl",t).controller("ProcurementQoutesDetailsCtrl",o),t.$inject=["$scope","$state","localStorageService","Tasks","$stateParams","ngDialog"],o.$inject=["$scope","$state","Tasks","$stateParams","$ionicViewSwitcher"]}();
!function(){"use strict";function t(t,a,c){}angular.module("contractor").factory("apiFactory",t),t.$inject=["Restangular","API_URL","API_VERSION"]}();
!function(){"use strict";angular.module("contractor").factory("CurrentUser",["localStorageService",function(n){return{user:function(){var e=JSON.parse(n.get("user"))||{};return _.isEmpty(e)?null:e},logout:function(){var e=JSON.parse(n.get("user"))||{};return _.isEmpty(e)?null:n.remove("user")}}}]).factory("Reports",function(){var n=[{id:1,Title:"Network Setup",Description:"7-Eleven",Status:"High",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"},{id:2,Title:"AV-Installation",Description:"Telstra,Melbourne",Status:"Medium",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"},{id:2,Title:"Hardware-Installation",Description:"Telstra,Melbourne",Status:"Medium",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"}];return{all:function(){return n}}}).factory("TaskTypes",function(){var n=[{id:1,name:"Installation",value:"Installation"},{id:2,name:"Setup",value:"Setup"},{id:3,name:"Testing",value:"Testing"},{id:4,name:"Support",value:"Support"}],e=[{id:1,name:"High",value:"High"},{id:1,name:"Medium",value:"Medium"},{id:1,name:"Low",value:"Low"}];return{all:function(){return n},priorities:function(){return e}}}).factory("WeekDays",function(){var n=[{id:1,name:"Sunday",abbr:"SUN"},{id:2,name:"Monday",abbr:"MON"},{id:3,name:"Tuesday",abbr:"TUE"},{id:4,name:"Wednesday",abbr:"WED"},{id:5,name:"Thursday",abbr:"THU"},{id:6,name:"Friday",abbr:"FRI"},{id:7,name:"Saturday",abbr:"SAT"}];return{all:function(){return n},get:function(e){for(var t=0;t<n.length;t++)if(n[t].id===parseInt(e))return n[t];return null}}}).factory("States",function(){var n=[{id:1,code:"ACT",name:"Australian Capital Territory"},{id:2,code:"NSW",name:"New South Wales"},{id:3,code:"NT",name:"Northern Territory"},{id:4,code:"QLD",name:"Queensland"},{id:5,code:"SA",name:"South Australia"},{id:6,code:"TAS",name:"Tasmania"},{id:7,code:"VIC",name:"Victoria"},{id:8,code:"WA",name:"Western Australia"}];return{all:function(){return n},get:function(e){var t=_.find({id:e},n);return _.isEmpty(t)?null:t}}}).factory("Qualifications",function(){var n=[{id:1,value:"one",name:"Hardware Installations"},{id:2,value:"two",name:"AV-Installations"},{id:3,value:"three",name:"Preventive Maintenance"},{id:4,value:"four",name:"Digital Media and Digital Points of Purchase Rollouts"},{id:5,value:"five",name:"Basic Networking Experience"},{id:6,value:"six",name:"Testing and Servicing Equipment"}];return{all:function(){return n}}}).factory("Country",function(){var n=[{id:1,code:"AUS",name:"Australia"},{id:2,code:"NZ",name:"New Zealand"}];return{all:function(){return n},get:function(e){for(var t=0;t<n.length;t++)if(n[t].id===parseInt(e))return n[t];return null}}}).factory("CityState",["$http",function(n){return{all:function(e){return"ACT"==e?(console.log("state: ",e),n.get("./data/act.json").success(function(n){return n})):"NSW"==e?n.get("./data/nsw.json").success(function(n){return n}):"NT"==e?n.get("./data/nt.json").success(function(n){return n}):"QLD"==e?n.get("./data/qld.json").success(function(n){return n}):"SA"==e?n.get("./data/sa.json").success(function(n){return n}):"VIC"==e?n.get("./data/vic.json").success(function(n){return n}):"WA"==e?n.get("./data/wa.json").success(function(n){return n}):void 0},get:function(n){}}}]).factory("Banks",["$http",function(n){return{all:function(){return n.get("./data/bank.json").success(function(n){return n})},get:function(e){return n.get("./data/bank.json").success(function(n){return n})}}}]).factory("Currencies",["$http",function(n){return{all:function(){return n.get("./data/currency.new.json").success(function(n){return n})},get:function(e){return n.get("./data/currency.new.json").success(function(n){return n})}}}])}();
!function(){"use strict";angular.module("contractor").factory("CurrentUser",["localStorageService",function(n){return{user:function(){var e=JSON.parse(n.get("user"))||{};return _.isEmpty(e)?null:e},logout:function(){var e=JSON.parse(n.get("user"))||{};return _.isEmpty(e)?null:n.remove("user")}}}]).factory("Reports",function(){var n=[{id:1,Title:"Network Setup",Description:"7-Eleven",Status:"High",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"},{id:2,Title:"AV-Installation",Description:"Telstra,Melbourne",Status:"Medium",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"},{id:2,Title:"Hardware-Installation",Description:"Telstra,Melbourne",Status:"Medium",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"}];return{all:function(){return n}}}).factory("TaskTypes",function(){var n=[{id:1,name:"Installation",value:"Installation"},{id:2,name:"Setup",value:"Setup"},{id:3,name:"Testing",value:"Testing"},{id:4,name:"Support",value:"Support"}],e=[{id:1,name:"High",value:"High"},{id:1,name:"Medium",value:"Medium"},{id:1,name:"Low",value:"Low"}];return{all:function(){return n},priorities:function(){return e}}}).factory("WeekDays",function(){var n=[{id:1,name:"Sunday",abbr:"SUN"},{id:2,name:"Monday",abbr:"MON"},{id:3,name:"Tuesday",abbr:"TUE"},{id:4,name:"Wednesday",abbr:"WED"},{id:5,name:"Thursday",abbr:"THU"},{id:6,name:"Friday",abbr:"FRI"},{id:7,name:"Saturday",abbr:"SAT"}];return{all:function(){return n},get:function(e){for(var t=0;t<n.length;t++)if(n[t].id===parseInt(e))return n[t];return null}}}).factory("States",function(){var n=[{id:1,code:"ACT",name:"Australian Capital Territory"},{id:2,code:"NSW",name:"New South Wales"},{id:3,code:"NT",name:"Northern Territory"},{id:4,code:"QLD",name:"Queensland"},{id:5,code:"SA",name:"South Australia"},{id:6,code:"TAS",name:"Tasmania"},{id:7,code:"VIC",name:"Victoria"},{id:8,code:"WA",name:"Western Australia"}];return{all:function(){return n},get:function(e){var t=_.find({id:e},n);return _.isEmpty(t)?null:t}}}).factory("Qualifications",function(){var n=[{id:1,value:"one",name:"Hardware Installations"},{id:2,value:"two",name:"AV-Installations"},{id:3,value:"three",name:"Preventive Maintenance"},{id:4,value:"four",name:"Digital Media and Digital Points of Purchase Rollouts"},{id:5,value:"five",name:"Basic Networking Experience"},{id:6,value:"six",name:"Testing and Servicing Equipment"}];return{all:function(){return n}}}).factory("Country",function(){var n=[{id:1,code:"AUS",name:"Australia"},{id:2,code:"NZ",name:"New Zealand"}];return{all:function(){return n},get:function(e){for(var t=0;t<n.length;t++)if(n[t].id===parseInt(e))return n[t];return null}}}).factory("CityState",["$http",function(n){return{all:function(e){return"ACT"==e?(console.log("state: ",e),n.get("./data/act.json").success(function(n){return n})):"NSW"==e?n.get("./data/nsw.json").success(function(n){return n}):"NT"==e?n.get("./data/nt.json").success(function(n){return n}):"QLD"==e?n.get("./data/qld.json").success(function(n){return n}):"SA"==e?n.get("./data/sa.json").success(function(n){return n}):"VIC"==e?n.get("./data/vic.json").success(function(n){return n}):"WA"==e?n.get("./data/wa.json").success(function(n){return n}):void 0},get:function(n){}}}]).factory("Banks",["$http",function(n){return{all:function(){return n.get("./data/bank.json").success(function(n){return n})},get:function(e){return n.get("./data/bank.json").success(function(n){return n})}}}]).factory("Currencies",["$http",function(n){return{all:function(){return n.get("./data/currency.new.json").success(function(n){return n})},get:function(e){return n.get("./data/currency.new.json").success(function(n){return n})}}}])}();
!function(){"use strict";angular.module("contractor").factory("Contractor",["$q","localStorageService",function(r,e){function t(){function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}var o=this;return o.find=function(t){var o=r.defer(),n=[];if(e.isSupported){var i=JSON.parse(e.get("contactor"))||[];return i&&i.length>0?_.isEmpty(t)?(n=i,o.resolve(n)):(n=_.filter(i,t),o.resolve(n)):o.resolve(n),o.promise}return new Error("localStorage is not supported")},o.create=function(o){var n=r.defer();if(e.isSupported){o._id=t();var i=JSON.parse(e.get("contactor"))||[];if(i&&i.length>0){i.push(o);var s=JSON.stringify(i),a=e.set("contactor",s);n.resolve(a)}else{var s=JSON.stringify([o]),a=e.set("contactor",s);n.resolve(a)}return n.promise}return new Error("localStorage is not supported")},o.remove=function(){var t=r.defer();if(!e.isSupported)return new Error("localStorage is not supported");var o=e.remove("contactor");return t.resolve(o),t.promise},o.findById=function(t){var o=r.defer(),n=[];if(e.isSupported){var i=JSON.parse(e.get("contactor"))||[];return i&&i.length>0?(n=_.filter(i,{_id:t}),o.resolve(n)):o.resolve(n),o.promise}return new Error("localStorage is not supported")},o.findByIdAndRemove=function(t){var o=r.defer(),n=[];if(e.isSupported){var i=JSON.parse(e.get("contactor"))||[];return i&&i.length>0?(n=_.filter(i,function(r){return r._id!==quotes._id}),o.resolve(n)):o.resolve(n),o.promise}return new Error("localStorage is not supported")},o.findByIdAndUpdate=function(t,o){var n=r.defer();if(e.isSupported){var i=JSON.parse(e.get("contactor"))||[];if(i&&i.length>0){_.each(i,function(r){r._id==t&&(r=o)});var s=JSON.stringify(i),a=e.set("contactor",s);n.resolve(a)}else n.resolve([]);return n.promise}return new Error("localStorage is not supported")},o.login=function(r,t){var o=JSON.parse(e.get("contactor"))||[],n=_.find(o,{username:r,password:t});return _.isEmpty(n)?null:(delete n.password,e.set("user",JSON.stringify(n)),n)},o}])}();
!function(){"use strict";angular.module("contractor").factory("ProcurementManager",["localStorageService",function(e){var t=[{id:1,fname:"John",lname:"Doe",position:"Project Lead",location:{address:"Lorem ipsum dolor sit amet",postcode:"12345",city:"Haymarket",state:"New South Wales",country:"Australia"},contactnum:"0411123236",email:"loren@impatsu.com.au",username:"lorem1",password:"123456",usertype:"proc",datecreated:new Date},{id:2,fname:"Mary",lname:"Poppins",position:"Project Lead",location:{address:"Lorem ipsum dolor sit amet",postcode:"12345",city:"Haymarket",state:"New South Wales",country:"Australia"},contactnum:"0411123236",email:"loren2@impatsu.com.au",username:"lorem2",password:"123456",usertype:"proc",datecreated:new Date},{id:3,fname:"Network",lname:"Eleven",position:"Project Lead",location:{address:"Lorem ipsum dolor sit amet",postcode:"12345",city:"Haymarket",state:"New South Wales",country:"Australia"},contactnum:"0411123236",email:"loren3@impatsu.com.au",username:"lorem3",password:"123456",usertype:"proc",datecreated:new Date},{id:4,fname:"Katrin",lname:"Risse",position:"Project Lead",location:{address:"Lorem ipsum dolor sit amet",postcode:"12345",city:"Haymarket",state:"New South Wales",country:"Australia"},contactnum:"0411123236",email:"katrin.risse@engagis.com.au",username:"katrin.risse",password:"123456",usertype:"proc",datecreated:new Date}];return{all:function(){return t},login:function(a,o){var r=_.find(t,{username:a,password:o});return _.isEmpty(r)?null:(e.set("user",JSON.stringify(r)),r)},findById:function(e){var a=_.find(t,{id:e});return _.isEmpty(a)?null:a}}}])}();
!function(){"use strict";angular.module("contractor").factory("Tasks",["$q","localStorageService",function(r,e){function t(){function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()}var o=this;return o.find=function(t){var o=r.defer(),s=[];if(e.isSupported){var n=JSON.parse(e.get("tasks"))||[];return n&&n.length>0?_.isEmpty(t)?(s=n,o.resolve(s)):(s=_.filter(n,t),o.resolve(s)):o.resolve(s),o.promise}return new Error("localStorage is not supported")},o.create=function(o){var s=r.defer();if(e.isSupported){o._id=t();var n=JSON.parse(e.get("tasks"))||[];if(n&&n.length>0){n.push(o);var i=JSON.stringify(n),a=e.set("tasks",i);s.resolve(a)}else{var i=JSON.stringify([o]),a=e.set("tasks",i);s.resolve(a)}return s.promise}return new Error("localStorage is not supported")},o.remove=function(){var t=r.defer();if(!e.isSupported)return new Error("localStorage is not supported");var o=e.remove("tasks");return t.resolve(o),t.promise},o.findById=function(t){var o=r.defer(),s=[];if(e.isSupported){var n=JSON.parse(e.get("tasks"))||[];return n&&n.length>0?(s=_.filter(n,{_id:t}),o.resolve(s)):o.resolve(s),o.promise}return new Error("localStorage is not supported")},o.findByIdAndRemove=function(t){var o=r.defer(),s=[];if(e.isSupported){var n=JSON.parse(e.get("tasks"))||[];return n&&n.length>0?(s=_.filter(n,function(r){return r._id!==quotes._id}),o.resolve(s)):o.resolve(s),o.promise}return new Error("localStorage is not supported")},o.findByIdAndUpdate=function(t,o){var s=r.defer(),n=[];if(e.isSupported){var i=JSON.parse(e.get("tasks"))||[];if(i&&i.length>0){n=_.filter(i,function(r){return r._id!==t}),n.push(o);var a=JSON.stringify(n),u=e.set("tasks",a);s.resolve(u)}else s.resolve([]);return s.promise}return new Error("localStorage is not supported")},o}])}();
!function(){"use strict";angular.module("contractor").factory("Dummy",function(){function a(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function e(a,e){e=e||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var t="",o=0;o<a;o++){var n=Math.floor(Math.random()*e.length);t+=e.substring(n,n+1)}return t}return{task:function(){return{_id:a(),taskname:"Task -"+Math.round(+new Date/1e3),tasktype:"Support",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",storename:"Target Newton",location:"Gorge Rd, Newton SA 5074, Australia",deadline:"2016-07-14",start:"8:00 AM",end:"3:00 PM",numdays:0,numhours:1,priority:"High",projectname:"Bupa Retail - "+Math.round(+new Date/1e3),casenumber:102807,requestor:"Mardy Romasasa",data_requested:"2016-07-14",storelname:"Jobs",storefname:"Steve",storeconnum:"08 8168 7500",contractors:[],status:""}},report:function(){return{}},vendorinfo:function(){var t="last"+e(2),o="first"+e(2);return{_id:a(),lname:t,fname:o,username:t+"."+o,password:"123456",companyname:"Company-"+e(8),location:"Gorge Rd, Newton SA 5074, Australia",country:"AUS",state:"NSW",city:"Haymarket",address:"Gorge Rd, Newton SA 5074",postcode:Math.floor(9e3*Math.random())+1e3,phone:"61"+(Math.floor(9e9*Math.random())+1e9),abn:Math.floor(9e10*Math.random())+1e10,email:"sample"+(Math.floor(900*Math.random())+100)+"@yopmail.com",seclname:"LName"+e(8),secfname:"FName"+e(8),secphone:parseInt("61"+(Math.floor(9e9*Math.random())+1e9)),secemail:"email"+(Math.floor(900*Math.random())+100)+"@yopmail.com",usertype:"con"}},vendorrate:function(){return{ratestandard:12.5,other_base_hours:12.5,other_after_hours:12.5,other_weekends:12.5,currency:"AUD",check_postcode:Math.floor(9e3*Math.random())+1e3,check_address:"Gorge Rd, Newton SA 5074, Australia",check_country:"AUS",check_state:"NSW",check_city:"Haymarket",bankname:"Advance Bank",bankbranch:e(12),bankaccount:"FName"+e(8)+" LName"+e(8),bankaccountnum:(Math.floor(900*Math.random())+100).toString()+(Math.floor(900*Math.random())+100).toString()+(Math.floor(900*Math.random())+100).toString()+(Math.floor(900*Math.random()).toString()+100)+(Math.floor(900*Math.random())+100).toString(),bankbsb:Math.floor(9e5*Math.random())+1e5}},vendorqualification:function(){return{refLname:"LName"+e(8),refFname:"FName"+e(8),refPhone:"61"+(Math.floor(9e9*Math.random())+1e9),refEmail:"email"+(Math.floor(900*Math.random())+100)+"@yopmail.com",qualifications:[{id:1,value:"one",name:"Hardware Installations",checked:!1},{id:2,value:"two",name:"AV-Installations",checked:!0},{id:3,value:"three",name:"Preventive Maintenance",checked:!1},{id:4,value:"four",name:"Digital Media and Digital Points of Purchase Rollouts",checked:!0},{id:5,value:"five",name:"Basic Networking Experience",checked:!0},{id:6,value:"six",name:"Testing and Servicing Equipment",checked:!1}]}}}})}();
!function(){"use strict";angular.module("contractor").directive("sidebar",function(){return{restrict:"C",controller:"admindashCtrl",compile:function(e,t,n){$.AdminLTE.tree(e)}}}).directive("header",function(){return{restrict:"E",templateUrl:"./modules/templates/header.html",compile:function(e,t,n){$.AdminLTE.pushMenu($(e).find(".sidebar-toggle"))}}}).directive("sliderNav",function(){return $.fn.sliderNav=function(e){var t={items:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],debug:!1,height:null,arrows:!0},n=$.extend(t,e),i=$.meta?$.extend({},n,$.data()):n,r=$(this);$(r).addClass("slider"),$(".slider-content li:first",r).addClass("selected"),$(r).append('<div class="slider-nav"><ul></ul></div>');for(var s in i.items)$(".slider-nav ul",r).append("<li><a alt='#"+i.items[s]+"'>"+i.items[s]+"</a></li>");var a=$(".slider-nav",r).height();i.height&&(a=i.height),$(".slider-content, .slider-nav",r).css("height",a),i.debug&&$(r).append('<div id="debug">Scroll Offset: <span>0</span></div>'),$(".slider-nav a",r).mouseover(function(e){var t=$(this).attr("alt"),n=$(".slider-content",r).offset().top,s=$(".slider-content "+t,r).offset().top,a=$(".slider-nav",r).height();i.height&&(a=i.height);var l=s-n-a/8;$(".slider-content li",r).removeClass("selected"),$(t).addClass("selected"),$(".slider-content",r).stop().animate({scrollTop:"+="+l+"px"}),i.debug&&$("#debug span",r).html(s)}),i.arrows&&($(".slider-nav",r).css("top","20px"),$(r).prepend('<div class="slide-up end"><span class="arrow up"></span></div>'),$(r).append('<div class="slide-down"><span class="arrow down"></span></div>'),$(".slide-down",r).click(function(){$(".slider-content",r).animate({scrollTop:"+="+a+"px"},500)}),$(".slide-up",r).click(function(){$(".slider-content",r).animate({scrollTop:"-="+a+"px"},500)}))},{restrict:"A",link:function(e,t,n){t.sliderNav()}}}).directive("sidebarToggle",function(){return{restrict:"C",link:function(e,t,n){t.bind("click",function(e){e.preventDefault(),$(window).width()<=992?($(".row-offcanvas").toggleClass("active"),$(".left-side").removeClass("collapse-left"),$(".right-side").removeClass("strech"),$(".row-offcanvas").toggleClass("relative")):($(".left-side").toggleClass("collapse-left"),$(".right-side").toggleClass("strech"))})}}}).directive("btn",function(){return{restrict:"C",link:function(e,t,n){t.bind("touchstart",function(){$(this).addClass("hover")}).bind("touchend",function(){$(this).removeClass("hover")})}}}).directive("treeview",function(){return $.fn.tree=function(){return this.each(function(){var e=$(this).children("a").first(),t=$(this).children(".treeview-menu").first(),n=$(this).hasClass("active");n&&(t.show(),e.children(".fa-angle-left").first().removeClass("fa-angle-left").addClass("fa-angle-down")),e.click(function(i){i.preventDefault(),n?(t.slideUp(),n=!1,e.children(".fa-angle-down").first().removeClass("fa-angle-down").addClass("fa-angle-left"),e.parent("li").removeClass("active")):(t.slideDown(),n=!0,e.children(".fa-angle-left").first().removeClass("fa-angle-left").addClass("fa-angle-down"),e.parent("li").addClass("active"))}),t.find("li > a").each(function(){var e=parseInt($(this).css("margin-left"))+10;$(this).css({"margin-left":e+"px"})})})},{restrict:"C",link:function(e,t,n){t.tree()}}}).directive("errSrc",function(){return{link:function(e,t,n){e.$watch(function(){return n.ngSrc},function(e){e||t.attr("src",n.errSrc)}),t.bind("error",function(){t.attr("src",n.errSrc)})}}}).directive("repeatEnd",function(){return{restrict:"A",link:function(e,t,n){e.$last&&e.$eval(n.repeatEnd)}}}).directive("validNumber",function(){return{require:"?ngModel",link:function(e,t,n,i){i&&(i.$parsers.push(function(e){if(angular.isUndefined(e))var e="";var t=e.replace(/[^-0-9\.]/g,""),n=t.split("-"),r=t.split(".");return angular.isUndefined(n[1])||(n[1]=n[1].slice(0,n[1].length),t=n[0]+"-"+n[1],n[0].length>0&&(t=n[0])),angular.isUndefined(r[1])||(r[1]=r[1].slice(0,2),t=r[0]+"."+r[1]),e!==t&&(i.$setViewValue(t),i.$render()),t}),t.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()}))}}})}();