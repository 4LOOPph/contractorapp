!function(){"use strict";angular.module("starter",["ionic","ionic-timepicker","ng.deviceDetector","ionic-datepicker","LocalStorageModule","angularMoment","ngMessages","ionic-toast","ion-autocomplete","ngCordova","ngSanitize","ngMask"]).config(["$stateProvider","$urlRouterProvider","ionicTimePickerProvider","$ionicConfigProvider","localStorageServiceProvider",function(t,e,o,l,r){var i={inputTime:60*(new Date).getHours()*60+60*(new Date).getMinutes(),format:12,step:1,setLabel:"Set",closeLabel:"Close"};o.configTimePicker(i),l.backButton.text(""),l.backButton.icon("ion-ios-arrow-left"),l.backButton.previousTitleText(""),l.scrolling.jsScrolling(!0),l.tabs.position("bottom"),l.views.swipeBackEnabled(!1),t.state("login",{url:"/login",templateUrl:"templates/login.html",controller:"LoginCtrl"}).state("forgot",{url:"/forgot",templateUrl:"templates/forgot.html"}).state("vendorInfo",{url:"/vendorinfo",templateUrl:"./templates/application/vendorInfo.html",controller:"VendorInfoCtrl"}).state("vendorRate",{url:"/vendorrate",templateUrl:"./templates/application/vendorRate.html",controller:"VendorRateCtrl"}).state("qualification",{url:"/qualification",templateUrl:"./templates/application/qualification.html",controller:"VendorQualificationCtrl"}).state("sent",{url:"/sent/:id",templateUrl:"./templates/application/sent.html",controller:"sentCtrl"}).state("userprofile",{url:"/userprofile",templateUrl:"templates/profile.html",controller:"UserProfileCtrl"}).state("adminprofile",{url:"/adminprofile",templateUrl:"templates/adminprofile.html",controller:"AdminProfileCtrl"}),e.otherwise("/login")}])}();
!function(){"use strict";angular.module("starter").config(["$stateProvider",function(t){t.state("tab",{url:"/tab","abstract":!0,templateUrl:"templates/contractor/tabs.html",controller:"ContactorMainCtrl"}).state("tab.dash",{url:"/dash",views:{"tab-dash":{templateUrl:"templates/contractor/tab-dash.html",controller:"ContractorDashCtrl"}}}).state("tab.tasks",{url:"/tasks",views:{"tab-tasks":{templateUrl:"templates/contractor/tab-tasks.html",controller:"ContractorTasksCtrl"}}}).state("tab.reports",{url:"/reports",views:{"tab-reports":{templateUrl:"templates/contractor/tab-report.html",controller:"ContractorReportingCtrl"}}}).state("task-detail",{url:"/tasks/:taskId",templateUrl:"templates/contractor/task-detail.html",controller:"ContractorTaskCtrl"}).state("task-detail-new",{url:"/tasks/:taskId/new",templateUrl:"templates/contractor/task-detail.new.html",controller:"ContractorTaskCtrl"}).state("task-detail-pending",{url:"/tasks/:taskId/pending",templateUrl:"templates/contractor/task-detail.pending.html",controller:"ContractorTaskCtrl"}).state("task-detail-progress",{url:"/tasks/:taskId/progress",templateUrl:"templates/contractor/task-detail.progress.html",controller:"ContractorTaskCtrl"}).state("installationreport",{url:"/installationreport/:taskId",templateUrl:"templates/contractor/installationreport.html",controller:"ContractorReportsCtrl"}).state("sitesurvey",{url:"/sitesurvey/:taskId",templateUrl:"templates/contractor/sitesurvey.html",controller:"ContractorReportsCtrl"}).state("reporting",{url:"/supportreport/:taskId",templateUrl:"templates/contractor/supportreport.html",controller:"ContractorReportsCtrl"}).state("qow",{url:"/qow/:taskId",templateUrl:"templates/contractor/qow.html",controller:"ContractorQOWCtrl"}).state("reportdone2",{url:"/reportdone2/:reportId",templateUrl:"templates/contractor/reportdone2.html",controller:"ContractorReportingCtrl"}).state("reportdone",{url:"/reportdone",templateUrl:"templates/contractor/reportdone.html",controller:"ContractorReportingCtrl"})}])}();
!function(){"use strict";angular.module("starter").config(["$stateProvider",function(t){t.state("tab-procure",{url:"/tabprocure","abstract":!0,templateUrl:"templates/procurement/tabs.html",controller:"ProcurementMainCtrl"}).state("tab-procure.admindash",{url:"/admindash",views:{"tab-admindash":{templateUrl:"templates/procurement/tab-admindash.html",controller:"ProcurementDashCtrl"}}}).state("tab-procure.admintasks",{url:"/admintasks",views:{"tab-admintasks":{templateUrl:"templates/procurement/tab-admintask.html",controller:"ProcurementTasksCtrl"}}}).state("tab-procure.createtask",{url:"/createtask",views:{"tab-create-task":{templateUrl:"templates/procurement/tab-createtask.html",controller:"ProcurementTaskCtrl"}}}).state("tab-procure.adminreport",{url:"/adminreport",views:{"tab-adminreport":{templateUrl:"templates/procurement/tab-adminreport.html",controller:"ProcurementReportingCtrl"}}}).state("procure_task_detail",{url:"/procuretasks/:taskId",templateUrl:"templates/procurement/task-detail.html",controller:"ProcurementTaskCtrl"}).state("procure_reportdone2",{url:"/procurereportdone2/:reportId",templateUrl:"templates/procurement/reportdone2.html",controller:"ProcurementReportsCtrl"}).state("procure_reportdone",{url:"/procurereportdone/:reportId",templateUrl:"templates/procurement/reportdone.html",controller:"ProcurementReportsCtrl"}).state("quotelist",{url:"/quotelist/:taskId",templateUrl:"templates/procurement/quotelist.html",controller:"ProcurementQoutesCtrl"}).state("quotedetails",{url:"/quotedetails",templateUrl:"templates/procurement/qowlist.html",controller:"ChatsCtrl"}).state("approve",{url:"/approve/:quoteId/task/:taskId",templateUrl:"templates/procurement/approve.html",controller:"ProcurementQoutesDetailsCtrl"})}])}();
!function(){"use strict";function o(o,e,n,i,t,r,a,c,s,u,l,d,p){e.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()});var i=i;i.isDesktop()&&(n.location.href="../desktop.html"),o.currentUser=p.user(),o.showPopoveredit=function(e){o.popover1.show(e)},o.myGoBack=function(){console.log("myGoBack"),r.nextDirection("back"),n.history.back()},o.signOut=function(){d.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),o.$broadcast("closeProfilePopover"),p.logout(),c(function(){d.hide(),s.go("login",null,{reload:!0})},1e3)},o.$on("$stateChangeSuccess",function(e,n,i,t,r){o.currentUser=p.user()}),o.$on("$stateChangeStart",function(o,e,n,i,t){"sent"==i.name&&"login"!==e.name&&o.preventDefault(),"login"==i.name&&"sent"==e.name&&o.preventDefault()})}angular.module("starter").run(o),o.$inject=["$rootScope","$ionicPlatform","$window","deviceDetector","$ionicHistory","$ionicViewSwitcher","localStorageService","$timeout","$state","$ionicNavBarDelegate","$ionicPopup","$ionicLoading","CurrentUser"]}();
!function(){"use strict";function e(e,t,n,o,i,a,r,s,d,c){e.data={username:"",password:"",usertype:""},e.$on("$ionicView.beforeEnter",function(t,n){e.data={username:"",password:"",usertype:""},r.showBackButton(!1)}),e.inputType="password",e.showStr="show",e.hideShowPassword=function(){"password"==e.inputType?(e.inputType="text",e.showStr="hide"):(e.inputType="password",e.showStr="show")},e.login=function(a){if(t.nextDirection("forward"),s.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),_.isEmpty(e.data.username)&&_.isEmpty(e.data.password))s.hide(),o.alert({title:"Invalid Account",template:"Username and Password are required!!!"});else if(_.isEmpty(e.data.username)||_.isEmpty(e.data.password))s.hide(),o.alert({title:"Invalid Account",template:"Username and Password are required!!!"});else{var r=d.login(e.data.username,e.data.password),l=c.login(e.data.username,e.data.password);if(console.log("result: ",r),console.log("result2: ",l),!_.isNull(r))return void i(function(){s.hide(),n.go("tab-procure.admindash")},1e3);if(!_.isNull(l))return void i(function(){s.hide(),n.go("tab.dash")},1e3);_.isNull(r)?i(function(){s.hide(),o.alert({title:"Invalid Account",template:"Username and Password not match!!!"})},600):_.isNull(l)&&i(function(){s.hide(),o.alert({title:"Invalid Account",template:"Username and Password not match!!!"})},600)}},e.applyAsContractor=function(){console.log("applyAsContractor"),t.nextDirection("forward"),n.go("vendorInfo")}}function t(e,t,n,o){e.sent=function(){o.nextViewOptions({disableBack:!0}),t.nextDirection("forward"),n.go("login")}}angular.module("starter").controller("LoginCtrl",e).controller("sentCtrl",t),t.$inject=["$scope","$ionicViewSwitcher","$state","$ionicHistory"],e.$inject=["$scope","$ionicViewSwitcher","$state","$ionicPopup","$timeout","$ionicHistory","$ionicNavBarDelegate","$ionicLoading","ProcurementManager","Contractor"]}();
!function(){"use strict";function i(i,o,t,c,e,n,r,u,$){}angular.module("starter").controller("AccountCtrl",i),i.$inject=["$scope","$ionicModal","$ionicPopup","$timeout","WeekDays","ionicTimePicker","$state","$ionicHistory","$ionicViewSwitcher"]}();
!function(){"use strict";angular.module("starter").controller("ChatsCtrl",["$scope","$ionicPopover","$state","$timeout","$ionicViewSwitcher","$ionicModal","$ionicPopup","$filter","localStorageService","Tasks","$stateParams","$ionicListDelegate",function(t,e,o,n,i,s,a,l,c,r,u,p){t.$on("$ionicView.enter",function(l){t.progressData=[],t.pendingData=[],t.completedData=[],t.progress=!1,t.date=new Date,t["delete"]=!0,t.delete2=!0,t.delete3=!0,t.delete4=!0,t.contacts=[],t.toggles=[{state:!0},{state:!1},{state:!0}],t.tasklist=r.all(),console.log("tasks: ",t.tasklist),t.selectedTask=t.tasklist[0],t.isa=!1,t.duha=!1,t.tulo=!1,t.opat=!1,t.clickable=function(){console.log("padulong diri")},e.fromTemplateUrl("../mobile/templates/dialog/popadmin.html",{scope:t}).then(function(e){t.popover2=e}),t.showPopoveradmin=function(e){t.popover2.show(e)},t.showActiveTask=function(e){t.selectedTask=e,console.log("$scope.selectedTask: ",t.selectedTask)},t.completedTask=function(t){i.nextDirection("forward"),n(function(){o.go("completedtask")},100)},t.clickDecline=function(e){t.popover.hide(),i.nextDirection("back"),n(function(){o.go("tab.tasks")},100)},t.showConfirm=function(){a.confirm({title:"",template:"Are you sure you want to assign the task to Lorem Impatsu?"}).then(function(t){t?(i.nextDirection("forward"),o.go("approve")):console.log("You are not sure")})},t.quotsub=function(){a.confirm({title:"",template:"Submit Quote?"}).then(function(t){t?(i.nextDirection("back"),o.go("tab.tasks")):console.log("You are not sure")})},t.complete=function(){console.log("$stateParams:",u.id);var e=r.get(u.id);console.log("result:",e),e&&a.confirm({title:"",template:"Send report?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(n){n?(console.log("asdasdasd"),_.map(t.tasklist,function(t){t==e&&(t.Task="complete",o.go("tab.tasks"))}),t.progress=_.filter(t.tasklist,function(t){return"progress"==t.Task}),localStorage.setItem("tasklist",angular.toJson(t.tasklist))):console.log("You are not sure")}}]})},t.checkInOut=function(e){console.log("list:",e);var o=[],n=_.find(t.tasklist,function(t){return"in"==t.Check});_.isUndefined(n)||o.push(n),"in"==e.Check?a.confirm({title:"<h4>Check-out to pause task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(o){o&&(console.log("asdasdasd"),_.map(t.tasklist,function(t){t==e&&(t.Check="out")}),localStorage.setItem("tasklist",angular.toJson(t.tasklist)),p.closeOptionButtons())}}]}):1==o.length?a.alert({template:"You are currently check-in to other task. <br> Please check-out."}):a.confirm({title:"<h4>Check-in to resume task</h4>",templateUrl:"../mobile/templates/dialog/checkin.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(o){o?(_.map(t.tasklist,function(t){t==e&&(t.Check="in")}),localStorage.setItem("tasklist",angular.toJson(t.tasklist))):console.log("You are not sure")}}]})},t.showCheck=function(t){console.log("showCheck"),"High"==t.Status?a.show({title:"<h4>Check-out to complete task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e?(i.nextDirection("forward"),o.go("installationreport",{id:t.id},{reload:!1})):console.log("You are not sure")}}]}):"Medium"==t.Status?a.confirm({title:"<h4>Check-out to complete task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e?(i.nextDirection("forward"),o.go("reporting",{id:t.id},{reload:!1})):console.log("You are not sure")}}]}):"Low"==t.Status&&a.confirm({title:"<h4>Check-out to complete task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e?(i.nextDirection("forward"),o.go("sitesurvey",{id:t.id},{reload:!1})):console.log("You are not sure")}}]})},t.deTails=function(t){i.nextDirection("forward"),o.go("task-detail",{taskId:t.id})},t.add=function(e){var o=_.filter(t.tasklist,function(t){return"progress"==t.Task});console.log("result:",o),o.length>2?a.alert({template:"You are currently check-in to 3 task. <br> Please check-out."}):(a.confirm({title:"<h4>Check-in to start task</h4>",templateUrl:"../mobile/templates/dialog/checkin.html"}).then(function(o){o?(_.map(t.tasklist,function(t){t==e&&(t.Task="progress")}),t.pending=_.filter(t.tasklist,function(t){return"pending"==t.Task}),t.tasklist.splice(e,0)):console.log("You are not sure")}),console.log("$scope.tasklist1:",t.tasklist))},t["delete"]=function(){a.confirm({title:"",template:"Are you sure you want to close task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e&&(t["delete"]=!1)}}]}),console.log("$scope.tasklist1:",t.tasklist)},t.delete2=function(){a.confirm({title:"",template:"Are you sure you want to close task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e&&(t.delete2=!1)}}]}),console.log("$scope.tasklist1:",t.tasklist)},t.delete3=function(){a.confirm({title:"",template:"Are you sure you want to decline task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e&&(t.delete3=!1)}}]}),console.log("$scope.tasklist1:",t.tasklist)},t.delete4=function(){a.confirm({title:"",template:"Are you sure you want to decline task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e&&(t.delete4=!1)}}]}),console.log("$scope.tasklist1:",t.tasklist)},t.filter={direct:!1,check:!0,check1:!1},t.showModerate=function(){t.filter={direct:!0,check:!1,check1:!1}},t.showHigh=function(){t.filter={direct:!1,check:!0,check1:!1}},t.showLow=function(){t.filter={direct:!1,check:!1,check1:!0}},t.supportreport=function(e){t.popover.hide(),i.nextDirection("forward"),n(function(){o.go("reporting"),t.popover.remove()},100)},t.editpro=function(e){t.popover.hide(),i.nextDirection("forward"),n(function(){o.go("editpro"),t.popover.remove()},100)},t.editavailability=function(e){t.popover.hide(),i.nextDirection("forward"),n(function(){o.go("editavailability"),t.popover.remove()},100)},t.editrate=function(e){t.popover.hide(),i.nextDirection("forward"),n(function(){o.go("editrate"),t.popover.remove()},100)},t.sitesurvey=function(e){t.popover.hide(),i.nextDirection("forward"),n(function(){o.go("sitesurvey")},100)},s.fromTemplateUrl("../mobile/templates/dialog/addmaterial.html",{scope:t,animation:"slide-in-up"}).then(function(e){t.modal=e}),t.openModal=function(){t.modal.show()},t.closeModal=function(){t.modal.hide()},t.createContact=function(e){t.contacts.push({name:e.firstName,description:e.description,rate:e.rate}),t.modal.hide()},_.each(t.chats,function(e){"progress"==e.status?t.progressData.push(e):"pending"==e.status?t.pendingData.push(e):"completed"==e.status&&t.completedData.push(e)}),console.log("$scope.progressData: ",t.progressData),console.log("$scope.pendingData: ",t.pendingData),console.log("$scope.completedData: ",t.completedData)})}])}();
!function(){"use strict";function a(a,t,e,i,r,o,n,c,s,l,u,v,m,d,f){a.data={},a.data.availabilityArr=[],a.data.coverageArr=[],a.avail={},a.area={},a.weekdays=r.all(),a.countries=n.all(),a.cities=[],a.citiesCopy=[],a.groups=[],a.othersList=[],a.$on("$ionicView.afterEnter",function(t,e){var i=JSON.parse(d.get("tmpvendor"))||{};_.isEmpty(i)?a.data=s.vendorinfo():a.data=i}),a.goBackLogin=function(){v.nextViewOptions({disableBack:!0}),m.nextDirection("back"),u.go("login")},a.getCountryState=function(t){"AUS"==t?a.states=o.all():a.states=[]},a.getCityState=function(t){console.log("getCityState: ",t),c.all(t).then(function(t){a.cities=t.data;var e=0;_.each(a.cities,function(t){a.citiesCopy.push({id:e,name:t.place_name,view:t.place_name}),e++})})},a.callbackMethod=function(t){if(t){var e=f("filter")(a.citiesCopy,t);return{items:e}}return{items:[]}},a.itemsClicked=function(t){a.data.check_city=t.item.name},a.addArea=function(t){t&&(a.data.coverageArr.push({area:t}),a.area.coverage="")},a.increaseHours=function(){a.time.hours=Number(a.time.hours),12==a.mainObj.format&&(12!=a.time.hours?a.time.hours+=1:a.time.hours=1),24==a.mainObj.format&&(a.time.hours=(a.time.hours+1)%24),a.time.hours=a.time.hours<10?"0"+a.time.hours:a.time.hours},a.openTime=function(t){a.data.created=new Date,l.openTimePicker({callback:function(t){var e=Math.floor(t/60/60),i=t/60%60;a.data.created.setHours(e,i);var r=(a.data.created.getHours(),e>=12?"PM":"AM");e%=12,e=e?e:12,i=i<10?"0"+i:i,a.avail.start=e+":"+i+" "+r},inputTime:60*a.data.created.getHours()*60+60*a.data.created.getMinutes(),format:12})},a.openTime2=function(){var t=new Date;l.openTimePicker({callback:function(e){var i=Math.floor(e/60/60),r=e/60%60;t.setHours(i,r);var o=(t.getHours(),i>=12?"PM":"AM");i%=12,i=i?i:12,r=r<10?"0"+r:r,a.avail.end=i+":"+r+" "+o},inputTime:60*t.getHours()*60+60*t.getMinutes(),format:12})},a.openTime3=function(a){var t=new Date;l.openTimePicker({callback:function(e){var i=Math.floor(e/60/60),r=e/60%60;t.setHours(i,r);var o=(t.getHours(),i>=12?"PM":"AM");i%=12,i=i?i:12,r=r<10?"0"+r:r,a.start=i+":"+r+" "+o},inputTime:60*t.getHours()*60+60*t.getMinutes(),format:12})},a.openTime4=function(a){var t=new Date;l.openTimePicker({callback:function(e){var i=Math.floor(e/60/60),r=e/60%60;t.setHours(i,r);var o=(t.getHours(),i>=12?"PM":"AM");i%=12,i=i?i:12,r=r<10?"0"+r:r,a.end=i+":"+r+" "+o},inputTime:60*t.getHours()*60+60*t.getMinutes(),format:12})},a.addSched=function(t){t&&(a.data.availabilityArr.push({availability:t.availability,start:t.start,end:t.end}),a.avail.availability="",a.avail.start="",a.avail.end="")},a.showCancel=function(){e.confirm({title:"",template:"Are you sure you want to cancel application?"}).then(function(a){a&&(v.nextViewOptions({disableBack:!0}),m.nextDirection("back"),d.remove("tmpvendor"),u.go("login"))})},a.vendorinf=function(t){t.$valid&&(a.avail.availability&&(a.data.availabilityArr.push({availability:a.avail.availability,start:a.avail.start,end:a.avail.end}),a.avail.availability="",a.avail.start="",a.avail.end=""),a.area.coverage&&(a.data.coverageArr.push({area:a.area.coverage}),a.area.coverage=""),d.set("tmpvendor",JSON.stringify(a.data)),u.go("vendorRate"))}}angular.module("starter").controller("VendorInfoCtrl",a),a.$inject=["$scope","$ionicModal","$ionicPopup","$timeout","WeekDays","States","Country","CityState","Dummy","ionicTimePicker","$state","$ionicHistory","$ionicViewSwitcher","localStorageService","$filter"]}();
!function(){"use strict";function t(t,a,e,n,i,o,c,r,d,s,l,u,m,f,p,h){t.data={},t.rate={},t.banks=[],t.banksCopy=[],t.currencies=[],t.countries=c.all(),t.cities=[],t.citiesCopy=[],t.$on("$ionicView.afterEnter",function(a,e){var n=JSON.parse(f.get("tmpvendorrate"))||{};_.isEmpty(n)?(t.data=s.vendorrate(),t.data.direct=!0,t.data.standard=!0,t.data.other=!1):t.data=n}),a.fromTemplateUrl("../mobile/templates/dialog/termandcondition.html",{scope:t,animation:"slide-in-up"}).then(function(a){t.modal=a}),i.all().then(function(a){t.banks=a.data,_.each(t.banks,function(a){t.banksCopy.push({id:a.id,name:a.name,view:a.name})})}),o.all().then(function(a){var e=a.data;n(function(){t.$apply(function(){t.currencies=e})},10)}),t.openModal=function(){t.modal.show()},t.closeModal=function(){t.modal.hide()},t.getCountryState=function(a){"AUS"==a?t.states=d.all():t.states=[]},t.getCityState=function(a){r.all(a).then(function(a){t.cities=a.data;var e=0;_.each(t.cities,function(a){t.citiesCopy.push({id:e,name:a.place_name,view:a.place_name}),e++})})},t.callbackMethod=function(a){if(a){var e=p("filter")(t.banksCopy,a);return{items:e}}return{items:[]}},t.callbackCityMethod=function(a){if(a){var e=p("filter")(t.citiesCopy,a);return{items:e}}return{items:[]}},t.itemsCityClicked=function(a){t.data.city=a.item.name},t.itemsClicked=function(a){t.data.bankname=a.item.name},t.callbackMethod=function(a){if(a){var e=p("filter")(t.banksCopy,a);return{items:e}}return{items:[]}},t.itemsClicked=function(a){t.data.bankname=a.item.name},t.vendorRate=function(a){a.$valid&&(t.data.standard||(t.data.ratestandard=""),t.data.other||(t.data.other_base_hours="",t.data.other_after_hours="",t.data.other_weekends=""),t.data.direct||(t.data.bankaccount="",t.data.bankaccountnum="",t.data.bankbranch="",t.data.bankbsb="",t.data.bankname=""),t.data.check||t.data.check_prefer_info||(t.data.check_country="",t.data.check_state="",t.data.check_city="",t.data.check_address="",t.data.check_postcode=""),f.set("tmpvendorrate",JSON.stringify(t.data)),l.go("qualification"))},t.showCancel=function(){e.confirm({title:"",template:"Are you sure you want to cancel application?"}).then(function(t){t&&(u.nextViewOptions({disableBack:!0}),m.nextDirection("back"),f.remove("tmpvendor"),f.remove("tmpvendorrate"),l.go("login"))})}}angular.module("starter").controller("VendorRateCtrl",t),t.$inject=["$scope","$ionicModal","$ionicPopup","$timeout","Banks","Currencies","Country","CityState","States","Dummy","$state","$ionicHistory","$ionicViewSwitcher","localStorageService","$filter","$ionicNavBarDelegate"]}();
!function(){"use strict";function e(e,t,i,o,n,a,r,c,s,l,u,p,f,m,d){e.data={},e.data.qualifications=[],e.data.othersList=[],e.others={},e.groups=[],e.filenames=[],e.qualifications=m.all(),_.each(e.qualifications,function(e){e.checked=!1}),e.$on("$ionicView.afterEnter",function(t,i){var o=JSON.parse(r.get("tmpqualification"))||{};_.isEmpty(o)?(e.data=f.vendorqualification(),_.each(e.qualifications,function(t){var i=_.find(e.data.qualifications,{id:t.id});i.checked&&(t.checked=!0)})):e.data=o});for(var h=0;h<1;h++){e.groups[h]={name:h,items:[]};for(var v=0;v<1;v++)e.groups[h].items.push(h+"-"+v)}e.toggleGroup=function(t){e.isGroupShown(t)?e.shownGroup=null:e.shownGroup=t},e.isGroupShown=function(t){return e.shownGroup===t},e.removeOther=function(t){e.othersList.splice(t,1)},e.addOthers=function(t){_.isEmpty(t)||(e.othersList.push(t),e.others={})},e.uploadFiles=function(t){var o=t.files,n=[];for(h=0;h<o.length;h++)n.push(o[h].name);e.files=o,i(function(){e.$apply(function(){e.filenames=n})},10),console.log(o,n)},e.removetest=function(t){e.filenames.splice(t,1)},e.checkItem=function(e){e.checked&&console.log("row: ",e)},e.scanCertificateCamera=function(){var e=ionic.Platform.isWebView();ionic.Platform.platform();if(e)t.alert({title:"Invalid Platform",template:"Scanning using Camera is not available at this platform"});else if(window.cordova&&window.cordova.plugins){var i={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:100,targetHeight:100,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!1,correctOrientation:!0};p.getPicture(i).then(function(e){var t="data:image/jpeg;base64,"+e;console.log("image: ",t)},function(e){})}else t.alert({title:"Invalid Platform",template:"Scanning using Camera is not available at this platform"})},e.showCancel=function(){t.confirm({title:"",template:"Are you sure you want to cancel application?"}).then(function(e){e&&(n.nextViewOptions({disableBack:!0}),a.nextDirection("back"),r.remove("tmpvendor"),r.remove("tmpvendorrate"),o.go("login"))})},e.showConfirm=function(){t.confirm({title:"",template:"Are you sure you want to submit application?"}).then(function(t){if(t){l.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),n.nextViewOptions({disableBack:!0}),a.nextDirection("forward");var c=JSON.parse(r.get("tmpvendor"))||{},s=JSON.parse(r.get("tmpvendorrate"))||{},u=_.extend(c,s,e.data);e.data=u,d.create(e.data).then(function(e){console.log("resp: ",e),e&&i(function(){l.hide(),r.remove("tmpvendor"),r.remove("tmpvendorrate"),o.go("sent",{id:c._id})},1e3)})}})}}angular.module("starter").controller("VendorQualificationCtrl",e),e.$inject=["$scope","$ionicPopup","$timeout","$state","$ionicHistory","$ionicViewSwitcher","localStorageService","$filter","$ionicNavBarDelegate","$ionicLoading","$ionicPopover","$cordovaCamera","Dummy","Qualifications","Contractor"]}();
!function(){"use strict";function i(i,e,o,t,c,n,r,s,$){}angular.module("starter").controller("UserProfileCtrl",i),i.$inject=["$scope","$ionicModal","$ionicPopup","$timeout","WeekDays","ionicTimePicker","$state","$ionicHistory","$ionicViewSwitcher"]}();
!function(){"use strict";function i(i,o,e,t,c,n,r,$,l){}angular.module("starter").controller("AdminProfileCtrl",i),i.$inject=["$scope","$ionicModal","$ionicPopup","$timeout","WeekDays","ionicTimePicker","$state","$ionicHistory","$ionicViewSwitcher"]}();
!function(){"use strict";function t(t,e,o,i,n,s,c,a){t.selectedTask=t.$parent.progressData[0],t.showActiveTask=function(e){t.selectedTask=e,o(function(){c.scrollBottom(!0)},100)},t.checkInOut=function(e){console.log("list: ",e);var i=[],c=_.find(t.tasklist,function(t){return"in"==t.Check});if(_.isUndefined(c)||i.push(c),"in"==e.Check)n.confirm({title:"<h4>Check-out to pause task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(i){i&&(a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),o(function(){a.hide(),_.map(t.tasklist,function(t){t==e&&(t.Check="out")})},1e3))}}]});else{if(1==i.length)return s.closeOptionButtons(),void n.alert({template:"You are currently check-in to other task. <br> Please check-out."});n.confirm({title:"<h4>Check-in to resume task</h4>",templateUrl:"../mobile/templates/dialog/checkin.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(i){i&&(a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),o(function(){a.hide(),_.map(t.tasklist,function(t){t==e&&(t.Check="in")})},1e3))}}]})}},t.showCheck=function(t){n.show({title:"<h4>Check-out to complete task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(n){n&&(s.closeOptionButtons(),i.nextDirection("forward"),a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),o(function(){a.hide(),"High"==t.Status?e.go("installationreport",{taskId:t.id}):"Medium"==t.Status?e.go("reporting",{taskId:t.id}):"Low"==t.Status&&e.go("sitesurvey",{taskId:t.id})},1e3))}}]})},t.deTails=function(t){s.closeOptionButtons(),i.nextDirection("forward"),o(function(){e.go("task-detail",{taskId:t.id})},250)}}angular.module("starter").controller("ContractorDashCtrl",t),t.$inject=["$scope","$state","$timeout","$ionicViewSwitcher","$ionicPopup","$ionicListDelegate","$ionicScrollDelegate","$ionicLoading"]}();
!function(){"use strict";function t(t,e,n,o,i,s,a,c,l){t.selectedTask=t.$parent.tasklist[0],t.$on("$ionicView.afterEnter",function(e,n){t.$parent.doAllTaskRefresh()}),t.$on("showTaskInfo",function(e,n){t.$parent.closependingModal(),t.$parent.closenewtaskModal(),t.$parent.closecompleted_ContractorModal(),t.deTails(n.taskId)}),t.$on("startTaskPending",function(e,n){t.startTask(n.taskId)}),t.showActiveTask=function(e){t.selectedTask=e},t.checkInOut=function(e){console.log("list: ",e);var o=[],c=_.find(t.tasklist,function(t){return"in"==t.Check});if(_.isUndefined(c)||o.push(c),"in"==e.Check)i.confirm({title:"<h4>Check-out to pause task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(o){o&&(a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),n(function(){a.hide(),_.map(t.tasklist,function(t){t==e&&(t.Check="out")})},1e3))}}]});else{if(1==o.length)return s.closeOptionButtons(),void i.alert({template:"You are currently check-in to other task. <br> Please check-out."});i.confirm({title:"<h4>Check-in to resume task</h4>",templateUrl:"../mobile/templates/dialog/checkin.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(o){o&&(a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),n(function(){a.hide(),_.map(t.tasklist,function(t){t==e&&(t.Check="in")})},1e3))}}]})}},t.completeTask=function(t){i.show({title:"<h4>Check-out to complete task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(i){i&&(s.closeOptionButtons(),o.nextDirection("forward"),a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),n(function(){a.hide(),"High"==t.Status?e.go("installationreport",{taskId:t.id}):"Medium"==t.Status?e.go("reporting",{taskId:t.id}):"Low"==t.Status&&e.go("sitesurvey",{taskId:t.id})},1e3))}}]})},t.completedTask=function(t){o.nextDirection("forward"),n(function(){e.go("completedtask")},100)},t.showConfirm=function(){i.confirm({title:"",template:"Are you sure you want to assign the task to Lorem Impatsu?"}).then(function(t){t&&(o.nextDirection("forward"),e.go("approve"))})},t.clickDecline=function(t){i.confirm({title:"Decline Task?",template:"Are you sure you want to decline on this task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(o){if(o){a.show({template:'<p>Declining...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons();var r=0;_.each(t.quotes,function(e){e.contractor._id==c.user()._id&&(t.quotes.splice(r,1),r++)}),console.log("task: ",t),l.findByIdAndUpdate(t._id,t).then(function(t){t&&n(function(){a.hide(),i.alert({title:"",template:"Task successfully declined"}).then(function(t){e.reload()})},600)})}}}]})},t.deTails=function(t,i){s.closeOptionButtons(),o.nextDirection("forward"),n(function(){"progress"==t?e.go("task-detail-progress",{taskId:i._id}):"pending"==t?e.go("task-detail-pending",{taskId:i._id}):"new"==t?e.go("task-detail-new",{taskId:i._id}):"completed"==t&&e.go("task-detail",{taskId:i._id})},250)},t.startTask=function(e){var o=_.filter(t.tasklist,function(t){return"progress"==t.Task});o.length>2?i.alert({template:"You are currently check-in to 3 task. <br> Please check-out."}):i.confirm({title:"<h4>Check-in to start task</h4>",templateUrl:"./templates/dialog/checkin.html"}).then(function(o){o&&(a.show({template:'<p>Declining...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),n(function(){a.hide(),_.map(t.tasklist,function(t){t==e&&(t.Task="progress")}),t.pending=_.filter(t.tasklist,function(t){return"pending"==t.Task}),t.tasklist.splice(e,0)},1e3))})},t.newTaskqow=function(i){t.$parent.closenewtaskModal(),o.nextDirection("forward"),s.closeOptionButtons(),n(function(){e.go("qow",{taskId:i._id})},250)},t.$on("submitQOW",function(e,n){t.$parent.closependingModal(),t.newTaskqow(n.taskId)}),t.$on("declineTaskOW",function(e,n){t.clickDecline(n.taskId)}),t.doTaskRefresh=function(){n(function(){t.$broadcast("scroll.refreshComplete")},2e3)}}angular.module("starter").controller("ContractorTasksCtrl",t),t.$inject=["$scope","$state","$timeout","$ionicViewSwitcher","$ionicPopup","$ionicListDelegate","$ionicLoading","CurrentUser","Tasks"]}();
!function(){"use strict";function t(t,n,i,e,o,s,a,c,r){t.task={},t.tasklist=[],t.disableQOW=!1,t.$on("$ionicView.beforeEnter",function(n,i){o.taskId&&(e.findById(o.taskId).then(function(n){t.task=n[0]}),t.$watch("task",function(n){t.task=n,_.each(t.task.quotes,function(n){n.contractor._id==r.user()._id&&(console.log("disableQOW"),t.disableQOW=!0)}),console.log("$scope.task: ",t.task)}))}),t.viewPSD=function(t){},t.submitQOW=function(t){a.nextDirection("forward"),i(function(){n.go("qow",{taskId:t._id})},250)},t.declineTask=function(u){s.confirm({title:"Decline Task?",template:"Are you sure you want to decline on this task?"}).then(function(u){if(u){c.show({template:'<p>Declining...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'});var d=0;_.each(t.task.quotes,function(n){n.contractor._id==r.user()._id&&(t.task.quotes.splice(d,1),d++)}),e.findByIdAndUpdate(o.taskId,t.task).then(function(t){t&&i(function(){c.hide(),s.alert({title:"",template:"Task successfully declined"}).then(function(t){a.nextDirection("back"),n.go("tab.tasks")})},600)})}})}}angular.module("starter").controller("ContractorTaskCtrl",t),t.$inject=["$scope","$state","$timeout","Tasks","$stateParams","$ionicPopup","$ionicViewSwitcher","$ionicLoading","CurrentUser"]}();
!function(){"use strict";function t(t,n,o,e,a,i,s,r){console.log("ContractorReportsCtrl");var l,c;t.selectedTask={},t.tasklist=[],t.signature=void 0,t.tasklist=e.all(),t.$watch("tasklist",function(n){t.selectedTask=_.find(n,{id:parseInt(a.taskId)})}),i.fromTemplateUrl("./templates/dialog/signature.modal.html",{scope:t,animation:"slide-in-up"}).then(function(n){t.signatureModal=n}),t.openSignatureModal=function(){console.log("openSignatureModal"),t.signatureModal.show(),l=document.getElementById("signatureCanvas"),c=new SignaturePad(l),c.minWidth=1,c.maxWidth=1.5,c.dotSize=3,c.backgroundColor="rgb(255, 255, 255)"},t.closeSignatureModal=function(){t.signatureModal.hide()},t.clearCanvas=function(){c.clear()},t.saveCanvas=function(){if(void 0!=c){var n=c.toDataURL("image/png");t.signature=n}},t.$on("$destroy",function(){t.signatureModal.remove(),t.signature=void 0}),t.$on("modal.hidden",function(){t.signature=void 0}),t.complete=function(){console.log("$stateParams:",a.taskId);var i=e.get(a.taskId);console.log("result:",i),i&&s.confirm({title:"",template:"Send report?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e&&(r.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),n(function(){r.hide(),_.map(t.tasklist,function(t){t==i&&(t.Task="complete",o.go("tab.tasks"))}),t.progress=_.filter(t.tasklist,function(t){return"progress"==t.Task})},1e3))}}]})}}angular.module("starter").controller("ContractorReportsCtrl",t),t.$inject=["$scope","$timeout","$state","Tasks","$stateParams","$ionicModal","$ionicPopup","$ionicLoading"]}();
!function(){"use strict";function t(t,a,e,o,n,i,r,s,d,l){function c(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}t.contacts=[],t.newUser={},t.data={},t.data.totalrate=0,t.data.numhours=0,t.data.totalqoute=0,t.data.material_fee=0,t.data.parking_fee=0,t.data.material_fee=0,t.data.travel_fee=0,t.data.descriptions=[],t.data.contractor={},t.data.approved=!1,i.fromTemplateUrl("./templates/dialog/addmaterial.html",{scope:t,animation:"slide-in-up"}).then(function(a){t.modal=a}),t.$on("modal.hidden",function(){t.newUser={},t.calculateTotal()}),i.fromTemplateUrl("./templates/dialog/qow.modal.html",{scope:t,animation:"slide-in-up"}).then(function(a){t.previewModal=a}),n.taskId&&(o.findById(n.taskId).then(function(a){t.task=a[0],t.task.quotes=[]}),t.$watch("task",function(a){t.task=a,t.task.quotes=[]})),t.openModal=function(){t.modal.show()},t.closeModal=function(){t.modal.hide()},t.calculateRate=function(a){t.data.totalrate=45*a,t.calculateTotal()},t.calculateTotal=function(){var a=0,e=parseFloat(t.data.totalrate)+parseFloat(t.data.material_fee)+parseFloat(t.data.parking_fee)+parseFloat(t.data.travel_fee);_.each(t.data.descriptions,function(t){a+=parseFloat(t.rate)}),t.data.totalqoute=e+a},t.createContact=function(a){a&&(t.data.descriptions.push({name:a.itemName,description:a.description,rate:a.rate}),t.modal.hide())},t.previewQoute=function(a){t.previewModal.show()},t.quotsub=function(){r.confirm({title:"",template:"Submit Quote?"}).then(function(i){i&&(l.show({template:'<p>Sending...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),t.data._id=c(),t.data.contractor=d.user(),t.task.quotes.push(t.data),o.findByIdAndUpdate(n.taskId,t.task).then(function(t){t&&a(function(){l.hide(),r.alert({title:"",template:"Quote successfully send.."}).then(function(t){s.nextDirection("back"),e.go("tab.tasks")})},600)}))})}}angular.module("starter").controller("ContractorQOWCtrl",t),t.$inject=["$scope","$timeout","$state","Tasks","$stateParams","$ionicModal","$ionicPopup","$ionicViewSwitcher","CurrentUser","$ionicLoading"]}();
!function(){"use strict";function o(o,e,t,n,r,i,c,p){o.reportdone2=function(e){o.$parent.closerecentreportModal(),o.$parent.closemyreportModal(),p.closeOptionButtons(),r.nextDirection("forward"),n(function(){t.go("reportdone2",{reportId:e.id})},250)},o.downloadReport=function(o){e.show({template:'<p>Downloading...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),p.closeOptionButtons(),n(function(){e.hide(),i.alert({title:"",template:"Report has been downloaded"})},2e3)},o.doReportingRefresh=function(){n(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.$on("showReportInfo",function(e,t){o.reportdone2(t.reportId)}),o.$on("downloadReportInfo",function(e,t){o.downloadReport(t.reportId)}),c.reportId&&(o.doReportRefresh=function(){n(function(){o.$broadcast("scroll.refreshComplete")},2e3)})}angular.module("starter").controller("ContractorReportingCtrl",o),o.$inject=["$scope","$ionicLoading","$state","$timeout","$ionicViewSwitcher","$ionicPopup","$stateParams","$ionicListDelegate"]}();
!function(){"use strict";function o(o,e,t,n,a,s,r,l,i,c,d){o.progressData=[],o.pendingData=[],o.completedData=[],o.newTaskData=[],o.reportsData=[],o.tasklist=[],r.find().then(function(e){o.tasklist=e}),o.$watch("tasklist",function(e){o.progressData=[],o.pendingData=[],o.completedData=[],o.newTaskData=[],_.each(e,function(e){"progress"==e.status&&o.progressData.push(e),"pending"==e.status&&o.pendingData.push(e),""==e.status&&o.newTaskData.push(e),"completed"==e.status&&o.completedData.push(e)}),_.each(o.newTaskData,function(o){o.disableQOW=!1,_.each(o.quotes,function(e){e.contractor._id==i.user()._id&&(console.log("disableQOW"),o.disableQOW=!0)})}),o.$broadcast("scroll.refreshComplete")}),o.reportsData=l.all(),o.showReportDetails=function(e){console.log("showReportDetails: ",e),o.$broadcast("showReportInfo",{reportId:e})},o.downloadReportDetails=function(e){console.log("downloadReportDetails: ",e),o.$broadcast("downloadReportInfo",{reportId:e})},o.showTaskDetails=function(e){console.log("showTaskDetails"),o.$broadcast("showTaskInfo",{taskId:e})},o.startPendingTask=function(e){o.$broadcast("startTaskPending",{taskId:e})},o.doAllTaskRefresh=function(){o.progressData=[],o.pendingData=[],o.completedData=[],o.newTaskData=[],r.find().then(function(e){o.tasklist=e})},o.doMyReportsRefresh=function(){c(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doCompletedTaskRefresh=function(){c(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doNewTaskRefresh=function(){c(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doPendingTaskRefresh=function(){c(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doReportingRefresh=function(){c(function(){o.$broadcast("scroll.refreshComplete")},2e3)},n.fromTemplateUrl("./templates/dialog/editpro.html",{rootScope:a}).then(function(o){a.popover1=o}),n.fromTemplateUrl("./templates/dialog/profilePopOver.html",{scope:o}).then(function(e){o.mainPopover=e}),o.showPopover=function(e){o.mainPopover.show(e)},o.showUserProfile=function(t){o.mainPopover.hide(),d.nextDirection("forward"),e.go("userprofile")},a.$on("closeProfilePopover",function(){o.mainPopover.hide()}),s.fromTemplateUrl("./templates/dialog/progress.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.progressModal=e}),o.opendetailsModal=function(){console.log("opendetailsModal"),o.progressModal.show()},o.closeModal=function(){o.progressModal.hide()},s.fromTemplateUrl("./templates/dialog/contractor_taskinprogress.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.taskinprogressModal=e}),o.opentaskinprogressModal=function(){o.taskinprogressModal.show()},o.closetaskinprogressModal=function(){o.taskinprogressModal.hide()},a.$on("closetaskinprogressModal",function(){console.log("closetaskmodal"),o.taskinprogressModal.hide()}),s.fromTemplateUrl("./templates/dialog/contractor_pending.html",{scope:o,animation:"slide-in-up",controller:"ContractorDashCtrl"}).then(function(e){o.pendingModal=e}),o.openpendingModal=function(){o.pendingModal.show()},o.closependingModal=function(){o.pendingModal.hide()},o.$on("closependingModal",function(){o.pendingModal.hide()}),s.fromTemplateUrl("./templates/dialog/contractor_newtask.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.newtaskModal=e}),o.opennewtaskModal=function(){o.newtaskModal.show()},o.closenewtaskModal=function(){o.newtaskModal.hide()},o.submitQOW=function(e){o.$broadcast("submitQOW",{taskId:e})},o.declineTask=function(e){o.$broadcast("declineTaskOW",{taskId:e})},s.fromTemplateUrl("./templates/dialog/contractor_completed.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.contractor_completed=e}),o.opencompleted_ContactorModal=function(){o.contractor_completed.show()},o.closecompleted_ContractorModal=function(){o.contractor_completed.hide()},s.fromTemplateUrl("./templates/dialog/contractor_recentlysentreport.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.recentreportModal=e}),o.openrecentreportModal=function(){console.log("openrecentreportModal"),o.recentreportModal.show()},o.closerecentreportModal=function(){o.recentreportModal.hide()},s.fromTemplateUrl("./templates/dialog/contractor_myreports.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.myreportModal=e}),o.openmyreportModal=function(){console.log("openmyreportModal"),o.myreportModal.show()},o.closemyreportModal=function(){o.myreportModal.hide()},o.$on("closemyreportModal",function(){o.myreportModal.hide()})}angular.module("starter").controller("ContactorMainCtrl",o),o.$inject=["$scope","$state","localStorageService","$ionicPopover","$rootScope","$ionicModal","Tasks","Reports","CurrentUser","$timeout","$ionicViewSwitcher"]}();
!function(){"use strict";function t(t,n,i,e,o,r){t.data={},t.$on("$ionicView.afterEnter",function(i,e){r.findById(n.id).then(function(n){n&&n.length>0&&(t.data=n[0])})}),t.sent=function(){o.nextViewOptions({disableBack:!0}),i.nextDirection("forward"),e.go("login")}}angular.module("starter").controller("sentCtrl",t),t.$inject=["$scope","$stateParams","$ionicViewSwitcher","$state","$ionicHistory","Contractor"]}();
!function(){"use strict";function o(o,e,t,n,a,s,r,l,i,c){o.progressData=[],o.pendingData=[],o.completedData=[],o.newTaskData=[],o.reportsData=[],o.contractorData=[],o.tasklist=[],r.find().then(function(e){o.tasklist=e}),o.$watch("tasklist",function(e){console.log("tasklist"),_.each(e,function(e){"progress"==e.status&&o.progressData.push(e),"pending"==e.status&&o.pendingData.push(e),""==e.status&&o.newTaskData.push(e),"completed"==e.status&&o.completedData.push(e)}),o.$broadcast("scroll.refreshComplete")}),o.reportsData=l.all(),o.showReportDetails=function(e){console.log("showReportDetails: ",e),o.$broadcast("showReportInfo",{reportId:e})},o.showReportDetails2=function(e){console.log("showReportDetails: ",e),o.$broadcast("showReportInfo2",{reportId:e})},o.downloadReportDetails=function(e){console.log("downloadReportDetails: ",e),o.$broadcast("downloadReportInfo",{reportId:e})},o.showTaskDetails=function(e){o.$broadcast("showTaskInfo",{taskId:e})},o.showQOWList=function(e){o.$broadcast("showQOWInfo",{taskId:e})},o.closeTaskDetails=function(e){o.$broadcast("closeTaskCompleted",{taskId:e})},o.doAllTaskRefresh=function(){o.progressData=[],o.pendingData=[],o.completedData=[],o.newTaskData=[],r.find().then(function(e){o.tasklist=e})},o.doPendingTaskRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doReportingRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doContractorListRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},n.fromTemplateUrl("./templates/dialog/editpro.html",{rootScope:a}).then(function(o){a.popover1=o}),n.fromTemplateUrl("./templates/dialog/profilePopOver.html",{scope:o}).then(function(e){o.mainPopover=e}),o.showPopover=function(e){o.mainPopover.show(e)},o.showAdminProfile=function(t){o.mainPopover.hide(),c.nextDirection("forward"),e.go("adminprofile")},a.$on("closeProfilePopover",function(){o.mainPopover.hide()}),s.fromTemplateUrl("./templates/dialog/progress.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.progressModal=e}),o.opendetailsModal=function(){console.log("opendetailsModal"),o.progressModal.show()},o.closeModal=function(){o.progressModal.hide()},s.fromTemplateUrl("./templates/dialog/procurement_taskinprogress.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.taskinprogressModal=e}),o.opentaskinprogressModal=function(){o.taskinprogressModal.show()},o.closetaskinprogressModal=function(){o.taskinprogressModal.hide()},s.fromTemplateUrl("./templates/dialog/procurement_pending.html",{scope:o,animation:"slide-in-up",controller:"ContractorDashCtrl"}).then(function(e){o.procurement_PendingModal=e}),o.openProcPendingModal=function(){o.procurement_PendingModal.show()},o.closeProcPendingModal=function(){o.procurement_PendingModal.hide()},s.fromTemplateUrl("./templates/dialog/procurement_newtask.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.newtaskModal=e}),o.opennewtaskModal=function(){o.newtaskModal.show()},o.closenewtaskModal=function(){o.newtaskModal.hide()},o.submitQOW=function(e){o.$broadcast("submitQOW",{taskId:e})},o.declineTask=function(e){o.$broadcast("declineTaskOW",{taskId:e})},s.fromTemplateUrl("./templates/dialog/procurement_completed.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.completedTaskModal=e}),o.opencompletedModal=function(){o.completedTaskModal.show()},o.closecompletedModal=function(){o.completedTaskModal.hide()},s.fromTemplateUrl("./templates/dialog/procurement_recentlysentreport.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.recentreportModal=e}),o.openrecentreportModal=function(){console.log("openrecentreportModal"),o.recentreportModal.show()},o.closerecentreportModal=function(){o.recentreportModal.hide()},s.fromTemplateUrl("./templates/dialog/procurement_myreports.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.myreportModal=e}),o.openmyreportModal=function(){o.myreportModal.show()},o.closemyreportModal=function(){o.myreportModal.hide()}}angular.module("starter").controller("ProcurementMainCtrl",o),o.$inject=["$scope","$state","localStorageService","$ionicPopover","$rootScope","$ionicModal","Tasks","Reports","$timeout","$ionicViewSwitcher"]}();
!function(){"use strict";function o(o,e,t,n,c,i,a,r,l,s){o.selectedTask=o.$parent.progressData[0],o.showActiveTask=function(e){o.selectedTask=e,n(function(){s.scrollBottom(!0)},100)},o.deTails=function(o){l.closeOptionButtons(),c.nextDirection("forward"),n(function(){t.go("procure_task_detail",{taskId:o.id})},250)},o.$on("showTaskInfo",function(e,t){l.closeOptionButtons(),o.$parent.closetaskinprogressModal(),o.deTails(t.taskId)}),o.doTaskRefresh=function(){n(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.clickme=function(){o.model=!0},o.filter={direct:!1,check:!0,check1:!1},o.showModerate=function(){o.filter={direct:!0,check:!1,check1:!1}},o.showHigh=function(){o.filter={direct:!1,check:!0,check1:!1}},o.showLow=function(){o.filter={direct:!1,check:!1,check1:!0}},o.completedTask=function(o){c.nextDirection("forward"),n(function(){t.go("completedtask")},100)},i.fromTemplateUrl("../mobile/templates/dialog/contractorlist.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.modal=e}),o.openModal=function(){o.modal.show()},o.closeModal=function(){o.modal.hide()},o.createContact=function(e){o.contacts.push({name:e.firstName+" "+e.lastName}),o.modal.hide()},o.forApproval=function(o){c.nextDirection("forward"),n(function(){t.go("forapproval")},100)},o.pendingDetails=function(e){o.popover.hide(),c.nextDirection("forward"),n(function(){t.go("pendingtask")},100)},o.createTask=function(o){o.$valid&&console.log("form valid")}}angular.module("starter").controller("ProcurementDashCtrl",o),o.$inject=["$scope","$ionicPopover","$state","$timeout","$ionicViewSwitcher","$ionicModal","localStorageService","$ionicPopup","$ionicListDelegate","$ionicScrollDelegate"]}();
!function(){"use strict";function t(t,e,n,o,a,i,r,s,c,u,l,p,k,m){t.task={},t.taskTypes=a.all(),t.priorities=a.priorities(),t.$on("$ionicView.afterEnter",function(e,n){t.task=i.task()}),m.fromTemplateUrl("../mobile/templates/dialog/contractor.list.modal.html",{scope:t,animation:"slide-in-up"}).then(function(e){t.modalcontractor=e}),s.taskId&&(o.findById(s.taskId).then(function(e){t.task=e[0]}),t.$watch("task",function(e){t.task=e,t.task.reporter=r.user(),console.log("$scope.task: ",t.task)})),t.openContractorModal=function(){t.modalcontractor.show()},t.closeContractorModal=function(){t.modalcontractor.hide()},t.attachedFile=function(){},t.openDatePicker=function(){c.openDatePicker({callback:function(e){console.log("Return value from the datepicker popup is sssss: "+e,new Date(e));var n=new Date(e);t.task.deadline=moment(n).format("MM-DD-YYYY")},inputDate:new Date,mondayFirst:!0,closeOnSelect:!1,templateType:"popup"})},t.openTime=function(){var e=new Date;u.openTimePicker({callback:function(n){var o=Math.floor(n/60/60),a=n/60%60;e.setHours(o,a);var i=(e.getHours(),o>=12?"PM":"AM");o%=12,o=o?o:12,a=a<10?"0"+a:a,t.task.start=o+":"+a+" "+i},inputTime:60*e.getHours()*60+60*e.getMinutes(),format:12})},t.openTime2=function(){var e=new Date;u.openTimePicker({callback:function(n){var o=Math.floor(n/60/60),a=n/60%60;e.setHours(o,a);var i=(e.getHours(),o>=12?"PM":"AM");o%=12,o=o?o:12,a=a<10?"0"+a:a,t.task.end=o+":"+a+" "+i},inputTime:60*e.getHours()*60+60*e.getMinutes(),format:12})},t.cancelCreateTask=function(){t.task={},k.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),e(function(){k.hide(),p.nextDirection("back"),n.go("tab-procure.admintasks")},1e3)},t.createTask=function(a){k.show({template:'<p>Sending...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),e(function(){k.hide(),t.task.reporter=r.user(),o.create(t.task).then(function(t){t&&l.alert({title:"",template:"Your task has been sent"}).then(function(t){p.nextDirection("back"),n.go("tab-procure.admintasks")})})},1e3)}}angular.module("starter").controller("ProcurementTaskCtrl",t),t.$inject=["$scope","$timeout","$state","Tasks","TaskTypes","Dummy","CurrentUser","$stateParams","ionicDatePicker","ionicTimePicker","$ionicPopup","$ionicViewSwitcher","$ionicLoading","$ionicModal"]}();
!function(){"use strict";function t(t,n,o,e,s,i,a,c,l,r){t.$on("$ionicView.beforeEnter",function(n,o){t.$parent.doAllTaskRefresh()}),t.$on("showTaskInfo",function(n,o){s.closeOptionButtons(),t.$parent.closetaskinprogressModal(),t.$parent.closeProcPendingModal(),t.$parent.closenewtaskModal(),t.$parent.closecompletedModal(),t.deTails(o.taskId)}),t.$on("startTaskPending",function(n,o){t.startTask(o.taskId)}),t.$on("showQOWInfo",function(n,o){s.closeOptionButtons(),t.$parent.closenewtaskModal(),t.qowlist(o.taskId)}),t.$on("closeTaskCompleted",function(n,o){s.closeOptionButtons(),t.closeTask(o.taskId)}),t.startTask=function(n){var o=_.filter(t.tasklist,function(t){return"progress"==t.Task});o.length>2?(s.closeOptionButtons(),a.alert({template:"You are currently check-in to 3 task. <br> Please check-out."})):a.confirm({title:"<h4>Check-in to start task</h4>",templateUrl:"./templates/dialog/checkin.html"}).then(function(o){o&&(_.map(t.tasklist,function(t){t==n&&(t.Task="progress")}),t.pending=_.filter(t.tasklist,function(t){return"pending"==t.Task}),t.tasklist.splice(n,0),s.closeOptionButtons())})},t.deTails=function(t){s.closeOptionButtons(),i.nextDirection("forward"),n(function(){o.go("procure_task_detail",{taskId:t._id})},250)},t.qowlist=function(t){s.closeOptionButtons(),i.nextDirection("forward"),n(function(){o.go("quotelist",{taskId:t._id})},250)},t.closeTask=function(o){a.confirm({title:"",template:"Are you sure you want to close task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(o){o&&(c.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),n(function(){c.hide(),a.alert({title:"",template:"Task has been closed"}).then(function(){t.$parent.closecompletedModal()})},1e3))}}]})}}angular.module("starter").controller("ProcurementTasksCtrl",t),t.$inject=["$scope","$timeout","$state","$stateParams","$ionicListDelegate","$ionicViewSwitcher","$ionicPopup","$ionicLoading","CurrentUser","Tasks"]}();
!function(){"use strict";function o(o,e,t,n,r,i,c,p,d,a,l){o.reportdone2=function(e){o.$parent.closerecentreportModal(),o.$parent.closemyreportModal(),l.closeOptionButtons(),r.nextDirection("forward"),n(function(){t.go("procure_reportdone2",{reportId:e.id})},250)},o.reportdone=function(e){o.$parent.closerecentreportModal(),o.$parent.closemyreportModal(),l.closeOptionButtons(),r.nextDirection("forward"),t.go("procure_reportdone",{reportId:e.id})},o.downloadReport=function(o){e.show({template:'<p>Downloading...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),n(function(){e.hide(),c.alert({title:"",template:"Report has been downloaded"}).then(function(){l.closeOptionButtons()})},2e3)},o.doReportingRefresh=function(){n(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.$on("showReportInfo2",function(e,t){o.reportdone2(t.reportId)}),o.$on("showReportInfo",function(e,t){o.reportdone(t.reportId)}),o.$on("downloadReportInfo",function(e,t){o.downloadReport(t.reportId)}),a.reportId&&(o.doReportRefresh=function(){n(function(){o.$broadcast("scroll.refreshComplete")},2e3)})}angular.module("starter").controller("ProcurementReportingCtrl",o),o.$inject=["$scope","$ionicLoading","$state","$timeout","$ionicViewSwitcher","$ionicModal","$ionicPopup","$filter","localStorageService","$stateParams","$ionicListDelegate"]}();
!function(){"use strict";function n(n,e,o,i,t,a){n.dimage=function(n){t.show({template:'<p>Downloading...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),e(function(){t.hide(),a.alert({title:"",template:"Images downloaded"})},2e3)},n.downloadReport=function(n){t.show({template:'<p>Downloading...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),e(function(){t.hide(),a.alert({title:"",template:"Report has been downloaded"})},2e3)}}angular.module("starter").controller("ProcurementReportsCtrl",n),n.$inject=["$scope","$timeout","$state","$stateParams","$ionicLoading","$ionicPopup"]}();
!function(){"use strict";function t(t,o,e,n,i,a,s,r,c,u,d,f,l){t.$on("$ionicView.beforeEnter",function(o,e){d.taskId&&(u.findById(d.taskId).then(function(o){t.task=o[0]}),t.$watch("task",function(o){t.task=o,console.log("$scope.task: ",t.task.quotes),_.each(t.task.quotes,function(t){var o=0;_.each(t.descriptions,function(t){o+=parseFloat(t.rate)}),t.totalothers=o})}))}),t.showConfirm=function(o){s.confirm({title:"",template:"Are you sure you want to assign the task to "+o.contractor.fname+" "+o.contractor.lname+" ?"}).then(function(a){a?(l.show({template:'<p>Approving...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),_.each(t.task.quotes,function(t){t._id==o._id&&(t.approved=!0)}),u.findByIdAndUpdate(d.taskId,t.task).then(function(a){a&&n(function(){l.hide(),s.alert({title:"",template:"Quote successfully approved"}).then(function(n){i.nextDirection("forward"),e.go("approve",{quoteId:o._id,taskId:t.task._id})})},1e3)})):console.log("You are not sure")})},t.viewApproval=function(o){i.nextDirection("forward"),e.go("approve",{quoteId:o._id,taskId:t.task._id})},t.gotToProfile=function(t){i.nextDirection("forward"),e.go("userprofile")}}function o(t,o,e){t.task={},t.data={},t.$on("$ionicView.beforeEnter",function(n,i){e.quoteId&&(o.findById(e.taskId).then(function(o){t.task=o[0]}),t.$watch("task",function(o){t.task=o,t.data=_.find(t.task.quotes,{_id:e.quoteId}),console.log("$scope.qoute: ",t.data)}))})}angular.module("starter").controller("ProcurementQoutesCtrl",t).controller("ProcurementQoutesDetailsCtrl",o),t.$inject=["$scope","$ionicPopover","$state","$timeout","$ionicViewSwitcher","$ionicModal","$ionicPopup","$filter","localStorageService","Tasks","$stateParams","$ionicListDelegate","$ionicLoading"],o.$inject=["$scope","Tasks","$stateParams"]}();
!function(){"use strict";angular.module("starter").factory("CurrentUser",["localStorageService",function(n){return{user:function(){var e=JSON.parse(n.get("user"))||{};return _.isEmpty(e)?null:e},logout:function(){var e=JSON.parse(n.get("user"))||{};return _.isEmpty(e)?null:n.remove("user")}}}]).factory("Reports",function(){var n=[{id:1,Title:"Network Setup",Description:"7-Eleven",Status:"High",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"},{id:2,Title:"AV-Installation",Description:"Telstra,Melbourne",Status:"Medium",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"},{id:2,Title:"Hardware-Installation",Description:"Telstra,Melbourne",Status:"Medium",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"}];return{all:function(){return n}}}).factory("TaskTypes",function(){var n=[{id:1,name:"Installation",value:"Installation"},{id:2,name:"Setup",value:"Setup"},{id:3,name:"Testing",value:"Testing"},{id:4,name:"Support",value:"Support"}],e=[{id:1,name:"High",value:"High"},{id:1,name:"Medium",value:"Medium"},{id:1,name:"Low",value:"Low"}];return{all:function(){return n},priorities:function(){return e}}}).factory("WeekDays",function(){var n=[{id:1,name:"Sunday",abbr:"SUN"},{id:2,name:"Monday",abbr:"MON"},{id:3,name:"Tuesday",abbr:"TUE"},{id:4,name:"Wednesday",abbr:"WED"},{id:5,name:"Thursday",abbr:"THU"},{id:6,name:"Friday",abbr:"FRI"},{id:7,name:"Saturday",abbr:"SAT"}];return{all:function(){return n},get:function(e){for(var t=0;t<n.length;t++)if(n[t].id===parseInt(e))return n[t];return null}}}).factory("States",function(){var n=[{id:1,code:"ACT",name:"Australian Capital Territory"},{id:2,code:"NSW",name:"New South Wales"},{id:3,code:"NT",name:"Northern Territory"},{id:4,code:"QLD",name:"Queensland"},{id:5,code:"SA",name:"South Australia"},{id:6,code:"TAS",name:"Tasmania"},{id:7,code:"VIC",name:"Victoria"},{id:8,code:"WA",name:"Western Australia"}];return{all:function(){return n},get:function(e){var t=_.find({id:e},n);return _.isEmpty(t)?null:t}}}).factory("Qualifications",function(){var n=[{id:1,value:"one",name:"Hardware Installations"},{id:2,value:"two",name:"AV-Installations"},{id:3,value:"three",name:"Preventive Maintenance"},{id:4,value:"four",name:"Digital Media and Digital Points of Purchase Rollouts"},{id:5,value:"five",name:"Basic Networking Experience"},{id:6,value:"six",name:"Testing and Servicing Equipment"}];return{all:function(){return n}}}).factory("Country",function(){var n=[{id:1,code:"AUS",name:"Australia"},{id:2,code:"NZ",name:"New Zealand"}];return{all:function(){return n},get:function(e){for(var t=0;t<n.length;t++)if(n[t].id===parseInt(e))return n[t];return null}}}).factory("CityState",["$http",function(n){return{all:function(e){return"ACT"==e?(console.log("state: ",e),n.get("./data/act.json").success(function(n){return n})):"NSW"==e?n.get("./data/nsw.json").success(function(n){return n}):"NT"==e?n.get("./data/nt.json").success(function(n){return n}):"QLD"==e?n.get("./data/qld.json").success(function(n){return n}):"SA"==e?n.get("./data/sa.json").success(function(n){return n}):"VIC"==e?n.get("./data/vic.json").success(function(n){return n}):"WA"==e?n.get("./data/wa.json").success(function(n){return n}):void 0},get:function(n){}}}]).factory("Banks",["$http",function(n){return{all:function(){return n.get("./data/bank.json").success(function(n){return n})},get:function(e){return n.get("./data/bank.json").success(function(n){return n})}}}]).factory("Currencies",["$http",function(n){return{all:function(){return n.get("./data/currency.new.json").success(function(n){return n})},get:function(e){return n.get("./data/currency.new.json").success(function(n){return n})}}}])}();
!function(){"use strict";angular.module("starter").factory("Contractor",function(r,e){var t=this;return t.find=function(t){var o=r.defer(),n=[];if(e.isSupported){var s=JSON.parse(e.get("contactor"))||[];return s&&s.length>0?_.isEmpty(t)?(n=s,o.resolve(n)):(n=_.filter(s,t),o.resolve(n)):o.resolve(n),o.promise}return new Error("localStorage is not supported")},t.create=function(t){var o=r.defer();if(e.isSupported){var n=JSON.parse(e.get("contactor"))||[];if(n&&n.length>0){n.push(t);var s=JSON.stringify(n),i=e.set("contactor",s);o.resolve(i)}else{var s=JSON.stringify([t]),i=e.set("contactor",s);o.resolve(i)}return o.promise}return new Error("localStorage is not supported")},t.remove=function(){var t=r.defer();if(!e.isSupported)return new Error("localStorage is not supported");var o=e.remove("contactor");return t.resolve(o),t.promise},t.findById=function(t){var o=r.defer(),n=[];if(e.isSupported){var s=JSON.parse(e.get("contactor"))||[];return s&&s.length>0?(n=_.filter(s,{_id:t}),o.resolve(n)):o.resolve(n),o.promise}return new Error("localStorage is not supported")},t.findByIdAndRemove=function(t){var o=r.defer(),n=[];if(e.isSupported){var s=JSON.parse(e.get("contactor"))||[];return s&&s.length>0?(n=_.filter(s,function(r){return r._id!==quotes._id}),o.resolve(n)):o.resolve(n),o.promise}return new Error("localStorage is not supported")},t.findByIdAndUpdate=function(t,o){var n=r.defer();if(e.isSupported){var s=JSON.parse(e.get("contactor"))||[];if(s&&s.length>0){_.each(s,function(r){r._id==t&&(r=o)});var i=JSON.stringify(s),a=e.set("contactor",i);n.resolve(a)}else n.resolve([]);return n.promise}return new Error("localStorage is not supported")},t.login=function(r,t){var o=JSON.parse(e.get("contactor"))||[];console.log("oldRecords: ",o);var n=_.find(o,{username:r,password:t});return _.isEmpty(n)?null:(delete n.password,e.set("user",JSON.stringify(n)),n)},t})}();
!function(){"use strict";angular.module("starter").factory("ProcurementManager",["localStorageService",function(e){var t=[{id:1,fname:"John",lname:"Doe",position:"Project Lead",location:{address:"Lorem ipsum dolor sit amet",postcode:"12345",city:"Haymarket",state:"New South Wales",country:"Australia"},contactnum:"0411123236",email:"loren@impatsu.com.au",username:"lorem1",password:"123456",usertype:"proc",datecreated:new Date},{id:2,fname:"Mary",lname:"Poppins",position:"Project Lead",location:{address:"Lorem ipsum dolor sit amet",postcode:"12345",city:"Haymarket",state:"New South Wales",country:"Australia"},contactnum:"0411123236",email:"loren2@impatsu.com.au",username:"lorem2",password:"123456",usertype:"proc",datecreated:new Date},{id:3,fname:"Network",lname:"Eleven",position:"Project Lead",location:{address:"Lorem ipsum dolor sit amet",postcode:"12345",city:"Haymarket",state:"New South Wales",country:"Australia"},contactnum:"0411123236",email:"loren3@impatsu.com.au",username:"lorem3",password:"123456",usertype:"proc",datecreated:new Date}];return{all:function(){return t},login:function(a,o){var r=_.find(t,{username:a,password:o});return _.isEmpty(r)?null:(delete r.password,e.set("user",JSON.stringify(r)),r)},findById:function(e){var a=_.find(t,{id:e});return _.isEmpty(a)?null:a}}}])}();
"use strict";angular.module("starter").factory("Tasks",function(r,e){var t=this;return t.find=function(t){var s=r.defer(),o=[];if(e.isSupported){var n=JSON.parse(e.get("tasks"))||[];return n&&n.length>0?_.isEmpty(t)?(o=n,s.resolve(o)):(o=_.filter(n,t),s.resolve(o)):s.resolve(o),s.promise}return new Error("localStorage is not supported")},t.create=function(t){var s=r.defer();if(e.isSupported){var o=JSON.parse(e.get("tasks"))||[];if(o&&o.length>0){o.push(t);var n=JSON.stringify(o),i=e.set("tasks",n);s.resolve(i)}else{var n=JSON.stringify([t]),i=e.set("tasks",n);s.resolve(i)}return s.promise}return new Error("localStorage is not supported")},t.remove=function(){var t=r.defer();if(!e.isSupported)return new Error("localStorage is not supported");var s=e.remove("tasks");return t.resolve(s),t.promise},t.findById=function(t){var s=r.defer(),o=[];if(e.isSupported){var n=JSON.parse(e.get("tasks"))||[];return n&&n.length>0?(o=_.filter(n,{_id:t}),s.resolve(o)):s.resolve(o),s.promise}return new Error("localStorage is not supported")},t.findByIdAndRemove=function(t){var s=r.defer(),o=[];if(e.isSupported){var n=JSON.parse(e.get("tasks"))||[];return n&&n.length>0?(o=_.filter(n,function(r){return r._id!==quotes._id}),s.resolve(o)):s.resolve(o),s.promise}return new Error("localStorage is not supported")},t.findByIdAndUpdate=function(t,s){var o=r.defer(),n=[];if(e.isSupported){var i=JSON.parse(e.get("tasks"))||[];if(i&&i.length>0){n=_.filter(i,function(r){return r._id!==t}),n.push(s);var a=JSON.stringify(n),u=e.set("tasks",a);o.resolve(u)}else o.resolve([]);return o.promise}return new Error("localStorage is not supported")},t});
!function(){"use strict";angular.module("starter").factory("Dummy",function(){function a(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function e(a,e){e=e||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var t="",o=0;o<a;o++){var n=Math.floor(Math.random()*e.length);t+=e.substring(n,n+1)}return t}return{task:function(){return{_id:a(),taskname:"Task is Store-"+Math.round(+new Date/1e3),tasktype:"Support",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.",storename:"Target Newton",location:"Gorge Rd, Newton SA 5074, Australia",deadline:"2016-07-14",start:"8:00 AM",end:"3:00 PM",numdays:0,numhours:1,priority:"High",projectname:"Bupa Retail - "+Math.round(+new Date/1e3),casenumber:102807,requestor:"Mardy Romasasa",data_requested:"2016-07-14",storelname:"Jobs",storefname:"Steve",storeconnum:"08 8168 7500",contractors:[],status:""}},vendorinfo:function(){var t="last"+e(2),o="first"+e(2);return{_id:a(),lname:t,fname:o,username:t+o,password:"123456",companyname:"Company-"+e(8),location:"Gorge Rd, Newton SA 5074, Australia",country:"AUS",state:"NSW",city:"Haymarket",address:"Gorge Rd, Newton SA 5074",postcode:Math.floor(9e3*Math.random())+1e3,phone:"61"+(Math.floor(9e9*Math.random())+1e9),abn:Math.floor(9e10*Math.random())+1e10,email:"sample"+(Math.floor(900*Math.random())+100)+"@yopmail.com",seclname:"LName"+e(8),secfname:"FName"+e(8),secphone:parseInt("61"+(Math.floor(9e9*Math.random())+1e9)),secemail:"email"+(Math.floor(900*Math.random())+100)+"@yopmail.com"}},vendorrate:function(){return{ratestandard:12.5,other_base_hours:12.5,other_after_hours:12.5,other_weekends:12.5,currency:"AUD",check_postcode:Math.floor(9e3*Math.random())+1e3,check_address:"Gorge Rd, Newton SA 5074, Australia",check_country:"AUS",check_state:"NSW",check_city:"Haymarket",bankname:"Advance Bank",bankbranch:e(12),bankaccount:"FName"+e(8)+" LName"+e(8),bankaccountnum:(Math.floor(900*Math.random())+100).toString()+(Math.floor(900*Math.random())+100).toString()+(Math.floor(900*Math.random())+100).toString()+(Math.floor(900*Math.random()).toString()+100)+(Math.floor(900*Math.random())+100).toString(),bankbsb:Math.floor(9e5*Math.random())+1e5}},vendorqualification:function(){return{refLname:"LName"+e(8),refFname:"FName"+e(8),refPhone:"61"+(Math.floor(9e9*Math.random())+1e9),refEmail:"email"+(Math.floor(900*Math.random())+100)+"@yopmail.com",qualifications:[{id:1,value:"one",name:"Hardware Installations",checked:!1},{id:2,value:"two",name:"AV-Installations",checked:!0},{id:3,value:"three",name:"Preventive Maintenance",checked:!1},{id:4,value:"four",name:"Digital Media and Digital Points of Purchase Rollouts",checked:!0},{id:5,value:"five",name:"Basic Networking Experience",checked:!0},{id:6,value:"six",name:"Testing and Servicing Equipment",checked:!1}]}}}})}();
!function(){"use strict";angular.module("starter").directive("errSrc",function(){return{link:function(n,o,e){n.$watch(function(){return e.ngSrc},function(n){n||o.attr("src",e.errSrc)}),o.bind("error",function(){o.attr("src",e.errSrc)})}}}).directive("validNumber",function(){return{require:"?ngModel",link:function(n,o,e,t){t&&o.bind("keypress",function(n){var e=o.val()+(0!==n.charCode?String.fromCharCode(n.charCode):"");0===o.val().search(/(.*)\.[0-9][0-9]/)&&e.length>o.val().length&&n.preventDefault()})}}}).directive("ionFloatingButton",function(){return{restrict:"E",scope:{click:"&?",buttonColor:"@?",buttonClass:"@?",icon:"@?",iconColor:"@?",hasFooter:"=?"},template:'<ul id="floating-button" ng-style="{\'bottom\' : \'{{bottomValue}}\' }"><li ng-class="buttonClass" ng-style="{\'background-color\': buttonColor }"><a ng-click="click()"><i class="icon menu-icon" ng-class="{ \'{{icon}}\' : true}" ng-style="{\'color\': iconColor }"></i></a></li></ul>',replace:!0,transclude:!0,controller:["$scope",function(n){n.buttonColor=n.buttonColor||"#2AC9AA",n.icon=n.icon||"ion-plus",n.iconColor=n.iconColor||"#fff",n.hasFooter=n.hasFooter||!1,n.hasFooter?n.bottomValue="60px":n.bottomValue="20px"}]}}).directive("ionFloatingMenu",function(){return{restrict:"E",scope:{menuOpenColor:"@?",menuOpenIcon:"@?",menuOpenIconColor:"@?",menuColor:"@?",menuIcon:"@?",menuIconColor:"@?",hasFooter:"=?"},template:'<ul id="floating-menu"  \n                            ng-style="{\'bottom\' : \'{{bottomValue}}\'}" \n                            ng-class="{\'active\' : isOpen}" \n                            ng-click="open()"><div ng-transclude></div><span><li class="menu-button icon menu-icon" ng-class="icon" ng-style="{\'background-color\' : buttonColor, \'color\': iconColor}"></li></span></ul>',replace:!0,transclude:!0,link:function(n,o,e,t,i){o.find("div").replaceWith(i())},controller:["$scope",function(n){n.isOpen=!1,n.open=function(){n.isOpen=!n.isOpen,n.isOpen?n.setOpen():n.setClose()},n.setOpen=function(){n.buttonColor=i,n.icon=r,n.iconColor=c},n.setClose=function(){n.buttonColor=o,n.icon=e,n.iconColor=t};var o=n.menuColor||"#2AC9AA",e=n.menuIcon||"ion-plus",t=n.menuIconColor||"#fff",i=n.menuOpenColor||"#2AC9AA",r=n.menuOpenIcon||"ion-minus",c=n.menuOpenIconColor||"#fff";n.setClose(),n.hasFooter=n.hasFooter||!1,n.hasFooter?n.bottomValue="60px":n.bottomValue="20px"}]}}).directive("ionFloatingItem",function(){return{restrict:"E",require:["^ionFloatingMenu"],scope:{click:"&?",icon:"@",buttonColor:"@?",buttonClass:"@?",iconColor:"@?",text:"@?",textClass:"@?"},template:'<li ng-click="click()" ng-class="buttonClass" ng-style="{\'background-color\': buttonColor }"><span ng-if="text" class="label-container"><span class="label" ng-class="textClass" ng-bind="text"></span></span><i class="icon menu-icon" ng-class="{ \'{{icon}}\' : true}" ng-style="{\'color\': iconColor }"></i></li>',replace:!0,controller:["$scope",function(n){n.buttonColor=n.buttonColor||"#2AC9AA",n.iconColor=n.iconColor||"#fff"}]}}).directive("ionProfilePicture",["$ionicTemplateLoader","$ionicBackdrop","$q","$timeout","$rootScope","$document",function(n,o,e,t,i,r){return{require:"?ngModel",restrict:"E",template:'<div class="ion-profile-picture no-picture"><input type="file" accept="image/*" capture /></div>',replace:!0,link:function(n,o,e,t){var i=angular.element(o.find("input")),r=void 0;if(!t)return console.error("ion-profile-picture:","Need to set ng-model"),!1;var c=function(n){i[0].click()},l=function(o){var e=new FileReader;e.onload=function(o){n.$apply(function(){t.$setViewValue(o.target.result),t.$render()})},r=o.target.files[0],r&&e.readAsDataURL(r)};t.$formatters.unshift(function(n){return n?n:""}),t.$parsers.unshift(function(n){return n}),t.$render=function(){var n=t.$viewValue;n?(n.match(/^data:.*?;base64,/i)||(n="data:image/jpg;base64,"+n),o.css({"background-image":"url("+n+")"}),o.removeClass("no-picture")):(o.css({"background-image":"none"}),o.addClass("no-picture"))},o.on("click",c),i.on("change",l)}}}]).directive("onValidSubmit",["$parse","$timeout",function(n,o){return{require:"^form",restrict:"A",link:function(o,e,t,i){i.$submitted=!1;var r=n(t.onValidSubmit);e.on("submit",function(n){o.$apply(function(){e.addClass("ng-submitted"),i.$submitted=!0,i.$valid&&"function"==typeof r&&r(o,{$event:n})})})}}}]).directive("validated",["$parse","ionicToast",function(n,o){return{restrict:"AEC",require:"^form",link:function(n,e,t,i){for(var r=e.find("*"),c=0,l=0;l<r.length;l++)!function(e){var t=e.attributes;if(void 0!=t.getNamedItem("ng-model")&&void 0!=t.getNamedItem("name")){var r=i[t.name.value];void 0!=r&&n.$watch(function(){return i.$submitted+"_"+r.$valid},function(){if(1==i.$submitted){var n=angular.element(e);n.hasClass("ng-invalid")?(console.log("if: ",n),c++,c>0?o.show("Field are required!","top",!1,2500):o.hide()):(c=0,console.log("else: ",n))}})}}(r[l])}}}])}();