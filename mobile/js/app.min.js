!function(){"use strict";angular.module("starter",["ionic","ionic-timepicker","ng.deviceDetector","ionic-datepicker","LocalStorageModule","angularMoment","ngMessages","ionic-toast","ion-autocomplete","ngCordova"]).config(["$stateProvider","$urlRouterProvider","ionicTimePickerProvider","$ionicConfigProvider","localStorageServiceProvider",function(t,e,o,l,r){var i={inputTime:60*(new Date).getHours()*60+60*(new Date).getMinutes(),format:12,step:1,setLabel:"Set",closeLabel:"Close"};o.configTimePicker(i),l.backButton.text(""),l.backButton.icon("ion-ios-arrow-left"),l.backButton.previousTitleText(""),l.scrolling.jsScrolling(!0),l.tabs.position("bottom"),l.views.swipeBackEnabled(!1),r.setStorageType("sessionStorage"),t.state("login",{url:"/login",templateUrl:"templates/login.html",controller:"LoginCtrl"}).state("forgot",{url:"/forgot",templateUrl:"templates/forgot.html"}).state("vendorInfo",{url:"/vendorinfo",templateUrl:"./templates/application/vendorInfo.html",controller:"VendorInfoCtrl"}).state("vendorRate",{url:"/vendorrate",templateUrl:"./templates/application/vendorRate.html",controller:"VendorRateCtrl"}).state("qualification",{url:"/qualification",templateUrl:"./templates/application/qualification.html",controller:"VendorQualificationCtrl"}).state("sent",{url:"/sent",templateUrl:"./templates/application/sent.html",controller:"sentCtrl"}).state("userprofile",{url:"/userprofile",templateUrl:"templates/profile.html",controller:"UserProfileCtrl"}).state("adminprofile",{url:"/adminprofile",templateUrl:"templates/adminprofile.html",controller:"AdminProfileCtrl"}),e.otherwise("/login")}])}();
!function(){"use strict";angular.module("starter").config(["$stateProvider",function(t){t.state("tab",{url:"/tab","abstract":!0,templateUrl:"templates/contractor/tabs.html",controller:"ContactorMainCtrl"}).state("tab.dash",{url:"/dash",views:{"tab-dash":{templateUrl:"templates/contractor/tab-dash.html",controller:"ContractorDashCtrl"}}}).state("tab.tasks",{url:"/tasks",views:{"tab-tasks":{templateUrl:"templates/contractor/tab-tasks.html",controller:"ContractorTasksCtrl"}}}).state("tab.reports",{url:"/reports",views:{"tab-reports":{templateUrl:"templates/contractor/tab-report.html",controller:"ContractorReportingCtrl"}}}).state("task-detail",{url:"/tasks/:taskId",templateUrl:"templates/contractor/task-detail.html",controller:"ContractorTaskCtrl"}).state("task-detail-new",{url:"/tasks/:taskId/new",templateUrl:"templates/contractor/task-detail.new.html",controller:"ContractorTaskCtrl"}).state("task-detail-pending",{url:"/tasks/:taskId/pending",templateUrl:"templates/contractor/task-detail.pending.html",controller:"ContractorTaskCtrl"}).state("task-detail-progress",{url:"/tasks/:taskId/progress",templateUrl:"templates/contractor/task-detail.progress.html",controller:"ContractorTaskCtrl"}).state("installationreport",{url:"/installationreport/:taskId",templateUrl:"templates/contractor/installationreport.html",controller:"ContractorReportsCtrl"}).state("sitesurvey",{url:"/sitesurvey/:taskId",templateUrl:"templates/contractor/sitesurvey.html",controller:"ContractorReportsCtrl"}).state("reporting",{url:"/supportreport/:taskId",templateUrl:"templates/contractor/supportreport.html",controller:"ContractorReportsCtrl"}).state("qow",{url:"/qow",templateUrl:"templates/contractor/qow.html",controller:"ContractorQOWCtrl"}).state("reportdone2",{url:"/reportdone2/:reportId",templateUrl:"templates/contractor/reportdone2.html",controller:"ContractorReportingCtrl"}).state("reportdone",{url:"/reportdone",templateUrl:"templates/contractor/reportdone.html",controller:"ContractorReportingCtrl"})}])}();
!function(){"use strict";angular.module("starter").config(["$stateProvider",function(t){t.state("tab-procure",{url:"/tabprocure","abstract":!0,templateUrl:"templates/procurement/tabs.html",controller:"ProcurementMainCtrl"}).state("tab-procure.admindash",{url:"/admindash",views:{"tab-admindash":{templateUrl:"templates/procurement/tab-admindash.html",controller:"ProcurementDashCtrl"}}}).state("tab-procure.admintasks",{url:"/admintasks",views:{"tab-admintasks":{templateUrl:"templates/procurement/tab-admintask.html",controller:"ProcurementTasksCtrl"}}}).state("tab-procure.createtask",{url:"/createtask",views:{"tab-create-task":{templateUrl:"templates/procurement/tab-createtask.html",controller:"ProcurementTaskCtrl"}}}).state("tab-procure.adminreport",{url:"/adminreport",views:{"tab-adminreport":{templateUrl:"templates/procurement/tab-adminreport.html",controller:"ProcurementReportingCtrl"}}}).state("procure_task_detail",{url:"/procuretasks/:taskId",templateUrl:"templates/procurement/task-detail.html",controller:"ProcurementTaskCtrl"}).state("procure_reportdone2",{url:"/procurereportdone2/:reportId",templateUrl:"templates/procurement/reportdone2.html",controller:"ProcurementReportsCtrl"}).state("procure_reportdone",{url:"/procurereportdone/:reportId",templateUrl:"templates/procurement/reportdone.html",controller:"ProcurementReportsCtrl"}).state("quotelist",{url:"/quotelist/:taskId",templateUrl:"templates/procurement/quotelist.html",controller:"ProcurementQoutesCtrl"}).state("quotedetails",{url:"/quotedetails",templateUrl:"templates/procurement/qowlist.html",controller:"ChatsCtrl"}).state("approve",{url:"/approve",templateUrl:"templates/procurement/approve.html",controller:"ProcurementQoutesCtrl"})}])}();
!function(){"use strict";function o(o,i,e,n,r,t,a,c,s,d,l,u){i.ready(function(){window.cordova&&window.cordova.plugins&&window.cordova.plugins.Keyboard&&(cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),cordova.plugins.Keyboard.disableScroll(!0)),window.StatusBar&&StatusBar.styleDefault()});var n=n;n.isDesktop()&&(e.location.href="../desktop.html"),o.showPopoveredit=function(i){o.popover1.show(i)},o.myGoBack=function(){console.log("myGoBack"),t.nextDirection("back"),e.history.back()},o.signOut=function(){u.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),o.$broadcast("closeProfilePopover"),a.remove("user"),c(function(){u.hide(),s.go("login",null,{reload:!0})},1e3)}}angular.module("starter").run(o),o.$inject=["$rootScope","$ionicPlatform","$window","deviceDetector","$ionicHistory","$ionicViewSwitcher","localStorageService","$timeout","$state","$ionicNavBarDelegate","$ionicPopup","$ionicLoading"]}();
!function(){"use strict";function t(t,e,o,n,i,a,r,s,c){t.data={username:"",password:"",usertype:""},t.$on("$ionicView.beforeEnter",function(e,o){t.data={username:"",password:"",usertype:""},s.showBackButton(!1)}),t.inputType="password",t.showStr="show",t.hideShowPassword=function(){"password"==t.inputType?(t.inputType="text",t.showStr="hide"):(t.inputType="password",t.showStr="show")},t.login=function(r){e.nextDirection("forward"),c.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),"proc"==t.data.username&&"123456"==t.data.password?(t.data.usertype="proc",n.set("user",JSON.stringify(t.data)),a(function(){c.hide(),o.go("tab-procure.admindash")},1e3)):"con"==t.data.username&&"123456"==t.data.password?(t.data.usertype="con",n.set("user",JSON.stringify(t.data)),a(function(){c.hide(),o.go("tab.dash")},1e3)):(c.hide(),i.alert({title:"Invalid Account",template:"Username and Password not match!!!"}))},t.applyAsContractor=function(){e.nextDirection("forward"),o.go("vendorInfo")}}function e(t,e,o,n){t.sent=function(){n.nextViewOptions({disableBack:!0}),e.nextDirection("forward"),o.go("login")}}angular.module("starter").controller("LoginCtrl",t).controller("sentCtrl",e),e.$inject=["$scope","$ionicViewSwitcher","$state","$ionicHistory"],t.$inject=["$scope","$ionicViewSwitcher","$state","localStorageService","$ionicPopup","$timeout","$ionicHistory","$ionicNavBarDelegate","$ionicLoading"]}();
!function(){"use strict";function i(i,o,t,c,e,n,r,u,$){}angular.module("starter").controller("AccountCtrl",i),i.$inject=["$scope","$ionicModal","$ionicPopup","$timeout","WeekDays","ionicTimePicker","$state","$ionicHistory","$ionicViewSwitcher"]}();
!function(){"use strict";angular.module("starter").controller("ChatsCtrl",["$scope","$ionicPopover","$state","$timeout","$ionicViewSwitcher","$ionicModal","$ionicPopup","$filter","localStorageService","Tasks","$stateParams","$ionicListDelegate",function(t,e,o,n,i,s,a,l,c,r,u,p){t.$on("$ionicView.enter",function(l){t.progressData=[],t.pendingData=[],t.completedData=[],t.progress=!1,t.date=new Date,t["delete"]=!0,t.delete2=!0,t.delete3=!0,t.delete4=!0,t.contacts=[],t.toggles=[{state:!0},{state:!1},{state:!0}],t.tasklist=r.all(),console.log("tasks: ",t.tasklist),t.selectedTask=t.tasklist[0],t.isa=!1,t.duha=!1,t.tulo=!1,t.opat=!1,t.clickable=function(){console.log("padulong diri")},e.fromTemplateUrl("../mobile/templates/dialog/popadmin.html",{scope:t}).then(function(e){t.popover2=e}),t.showPopoveradmin=function(e){t.popover2.show(e)},t.showActiveTask=function(e){t.selectedTask=e,console.log("$scope.selectedTask: ",t.selectedTask)},t.completedTask=function(t){i.nextDirection("forward"),n(function(){o.go("completedtask")},100)},t.clickDecline=function(e){t.popover.hide(),i.nextDirection("back"),n(function(){o.go("tab.tasks")},100)},t.showConfirm=function(){a.confirm({title:"",template:"Are you sure you want to assign the task to Lorem Impatsu?"}).then(function(t){t?(i.nextDirection("forward"),o.go("approve")):console.log("You are not sure")})},t.quotsub=function(){a.confirm({title:"",template:"Submit Quote?"}).then(function(t){t?(i.nextDirection("back"),o.go("tab.tasks")):console.log("You are not sure")})},t.complete=function(){console.log("$stateParams:",u.id);var e=r.get(u.id);console.log("result:",e),e&&a.confirm({title:"",template:"Send report?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(n){n?(console.log("asdasdasd"),_.map(t.tasklist,function(t){t==e&&(t.Task="complete",o.go("tab.tasks"))}),t.progress=_.filter(t.tasklist,function(t){return"progress"==t.Task}),localStorage.setItem("tasklist",angular.toJson(t.tasklist))):console.log("You are not sure")}}]})},t.checkInOut=function(e){console.log("list:",e);var o=[],n=_.find(t.tasklist,function(t){return"in"==t.Check});_.isUndefined(n)||o.push(n),"in"==e.Check?a.confirm({title:"<h4>Check-out to pause task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(o){o&&(console.log("asdasdasd"),_.map(t.tasklist,function(t){t==e&&(t.Check="out")}),localStorage.setItem("tasklist",angular.toJson(t.tasklist)),p.closeOptionButtons())}}]}):1==o.length?a.alert({template:"You are currently check-in to other task. <br> Please check-out."}):a.confirm({title:"<h4>Check-in to resume task</h4>",templateUrl:"../mobile/templates/dialog/checkin.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(o){o?(_.map(t.tasklist,function(t){t==e&&(t.Check="in")}),localStorage.setItem("tasklist",angular.toJson(t.tasklist))):console.log("You are not sure")}}]})},t.showCheck=function(t){console.log("showCheck"),"High"==t.Status?a.show({title:"<h4>Check-out to complete task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e?(i.nextDirection("forward"),o.go("installationreport",{id:t.id},{reload:!1})):console.log("You are not sure")}}]}):"Medium"==t.Status?a.confirm({title:"<h4>Check-out to complete task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e?(i.nextDirection("forward"),o.go("reporting",{id:t.id},{reload:!1})):console.log("You are not sure")}}]}):"Low"==t.Status&&a.confirm({title:"<h4>Check-out to complete task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e?(i.nextDirection("forward"),o.go("sitesurvey",{id:t.id},{reload:!1})):console.log("You are not sure")}}]})},t.deTails=function(t){i.nextDirection("forward"),o.go("task-detail",{taskId:t.id})},t.add=function(e){var o=_.filter(t.tasklist,function(t){return"progress"==t.Task});console.log("result:",o),o.length>2?a.alert({template:"You are currently check-in to 3 task. <br> Please check-out."}):(a.confirm({title:"<h4>Check-in to start task</h4>",templateUrl:"../mobile/templates/dialog/checkin.html"}).then(function(o){o?(_.map(t.tasklist,function(t){t==e&&(t.Task="progress")}),t.pending=_.filter(t.tasklist,function(t){return"pending"==t.Task}),t.tasklist.splice(e,0)):console.log("You are not sure")}),console.log("$scope.tasklist1:",t.tasklist))},t["delete"]=function(){a.confirm({title:"",template:"Are you sure you want to close task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e&&(t["delete"]=!1)}}]}),console.log("$scope.tasklist1:",t.tasklist)},t.delete2=function(){a.confirm({title:"",template:"Are you sure you want to close task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e&&(t.delete2=!1)}}]}),console.log("$scope.tasklist1:",t.tasklist)},t.delete3=function(){a.confirm({title:"",template:"Are you sure you want to decline task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e&&(t.delete3=!1)}}]}),console.log("$scope.tasklist1:",t.tasklist)},t.delete4=function(){a.confirm({title:"",template:"Are you sure you want to decline task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e&&(t.delete4=!1)}}]}),console.log("$scope.tasklist1:",t.tasklist)},t.filter={direct:!1,check:!0,check1:!1},t.showModerate=function(){t.filter={direct:!0,check:!1,check1:!1}},t.showHigh=function(){t.filter={direct:!1,check:!0,check1:!1}},t.showLow=function(){t.filter={direct:!1,check:!1,check1:!0}},t.supportreport=function(e){t.popover.hide(),i.nextDirection("forward"),n(function(){o.go("reporting"),t.popover.remove()},100)},t.editpro=function(e){t.popover.hide(),i.nextDirection("forward"),n(function(){o.go("editpro"),t.popover.remove()},100)},t.editavailability=function(e){t.popover.hide(),i.nextDirection("forward"),n(function(){o.go("editavailability"),t.popover.remove()},100)},t.editrate=function(e){t.popover.hide(),i.nextDirection("forward"),n(function(){o.go("editrate"),t.popover.remove()},100)},t.sitesurvey=function(e){t.popover.hide(),i.nextDirection("forward"),n(function(){o.go("sitesurvey")},100)},s.fromTemplateUrl("../mobile/templates/dialog/addmaterial.html",{scope:t,animation:"slide-in-up"}).then(function(e){t.modal=e}),t.openModal=function(){t.modal.show()},t.closeModal=function(){t.modal.hide()},t.createContact=function(e){t.contacts.push({name:e.firstName,description:e.description,rate:e.rate}),t.modal.hide()},_.each(t.chats,function(e){"progress"==e.status?t.progressData.push(e):"pending"==e.status?t.pendingData.push(e):"completed"==e.status&&t.completedData.push(e)}),console.log("$scope.progressData: ",t.progressData),console.log("$scope.pendingData: ",t.pendingData),console.log("$scope.completedData: ",t.completedData)})}])}();
!function(){"use strict";function a(a,t,e,i,o,r,n,c,l,s,u,v,d,m){a.data={},a.data.availabilityArr=[],a.data.coverageArr=[],a.avail={},a.area={},a.weekdays=o.all(),a.countries=n.all(),a.cities=[],a.citiesCopy=[],a.groups=[],a.othersList=[],a.goBackLogin=function(){u.nextViewOptions({disableBack:!0}),v.nextDirection("back"),s.go("login")},a.getCountryState=function(t){"AUS"==t?a.states=r.all():a.states=[]},a.getCityState=function(t){console.log("getCityState: ",t),c.all(t).then(function(t){a.cities=t.data;var e=0;_.each(a.cities,function(t){a.citiesCopy.push({id:e,name:t.place_name,view:t.place_name}),e++})})},a.callbackMethod=function(t){if(t){var e=m("filter")(a.citiesCopy,t);return{items:e}}return{items:[]}},a.itemsClicked=function(t){a.data.check_city=t.item.name},a.addArea=function(t){t&&(a.data.coverageArr.push({area:t}),a.area.coverage="")},a.increaseHours=function(){a.time.hours=Number(a.time.hours),12==a.mainObj.format&&(12!=a.time.hours?a.time.hours+=1:a.time.hours=1),24==a.mainObj.format&&(a.time.hours=(a.time.hours+1)%24),a.time.hours=a.time.hours<10?"0"+a.time.hours:a.time.hours},a.openTime=function(t){a.data.created=new Date,l.openTimePicker({callback:function(t){var e=Math.floor(t/60/60),i=t/60%60;a.data.created.setHours(e,i);var o=(a.data.created.getHours(),e>=12?"PM":"AM");e%=12,e=e?e:12,i=i<10?"0"+i:i,a.avail.start=e+":"+i+" "+o},inputTime:60*a.data.created.getHours()*60+60*a.data.created.getMinutes(),format:12})},a.openTime2=function(){var t=new Date;l.openTimePicker({callback:function(e){var i=Math.floor(e/60/60),o=e/60%60;t.setHours(i,o);var r=(t.getHours(),i>=12?"PM":"AM");i%=12,i=i?i:12,o=o<10?"0"+o:o,a.avail.end=i+":"+o+" "+r},inputTime:60*t.getHours()*60+60*t.getMinutes(),format:12})},a.openTime3=function(a){var t=new Date;l.openTimePicker({callback:function(e){var i=Math.floor(e/60/60),o=e/60%60;t.setHours(i,o);var r=(t.getHours(),i>=12?"PM":"AM");i%=12,i=i?i:12,o=o<10?"0"+o:o,a.start=i+":"+o+" "+r},inputTime:60*t.getHours()*60+60*t.getMinutes(),format:12})},a.openTime4=function(a){var t=new Date;l.openTimePicker({callback:function(e){var i=Math.floor(e/60/60),o=e/60%60;t.setHours(i,o);var r=(t.getHours(),i>=12?"PM":"AM");i%=12,i=i?i:12,o=o<10?"0"+o:o,a.end=i+":"+o+" "+r},inputTime:60*t.getHours()*60+60*t.getMinutes(),format:12})},a.addSched=function(t){t&&(a.data.availabilityArr.push({availability:t.availability,start:t.start,end:t.end}),a.avail.availability="",a.avail.start="",a.avail.end="")},a.showCancel=function(){e.confirm({title:"",template:"Are you sure you want to cancel application?"}).then(function(a){a?(u.nextViewOptions({disableBack:!0}),v.nextDirection("back"),s.go("login")):console.log("You are not sure")})},a.vendorinf=function(t){t.$valid?(a.avail.availability&&(a.data.availabilityArr.push({availability:a.avail.availability,start:a.avail.start,end:a.avail.end}),a.avail.availability="",a.avail.start="",a.avail.end=""),a.area.coverage&&(a.data.coverageArr.push({area:a.area.coverage}),a.area.coverage=""),d.set("vendor",JSON.stringify(a.data)),s.go("vendorRate")):console.log("invalid")}}angular.module("starter").controller("VendorInfoCtrl",a),a.$inject=["$scope","$ionicModal","$ionicPopup","$timeout","WeekDays","States","Country","CityState","ionicTimePicker","$state","$ionicHistory","$ionicViewSwitcher","localStorageService","$filter"]}();
!function(){"use strict";function t(t,e,n,i,a,o,c,l,r,s,u,m,d,f,p){console.log("VendorRateCtrl"),t.data={},t.rate={},t.banks=[],t.banksCopy=[],t.currencies=[],t.countries=c.all(),t.cities=[],t.citiesCopy=[],p.showBackButton(!0),e.fromTemplateUrl("../mobile/templates/dialog/termandcondition.html",{scope:t,animation:"slide-in-up"}).then(function(e){t.modal=e}),a.all().then(function(e){t.banks=e.data,_.each(t.banks,function(e){t.banksCopy.push({id:e.id,name:e.name,view:e.name})})}),o.all().then(function(e){var n=e.data;i(function(){t.$apply(function(){t.currencies=n})},10)}),t.openModal=function(){t.modal.show()},t.closeModal=function(){t.modal.hide()},t.getCountryState=function(e){"AUS"==e?t.states=r.all():t.states=[]},t.getCityState=function(e){l.all(e).then(function(e){t.cities=e.data;var n=0;_.each(t.cities,function(e){t.citiesCopy.push({id:n,name:e.place_name,view:e.place_name}),n++})})},t.callbackMethod=function(e){if(e){var n=f("filter")(t.banksCopy,e);return{items:n}}return{items:[]}},t.callbackCityMethod=function(e){if(e){var n=f("filter")(t.citiesCopy,e);return{items:n}}return{items:[]}},t.itemsCityClicked=function(e){t.data.city=e.item.name},t.itemsClicked=function(e){t.data.bankname=e.item.name},t.callbackMethod=function(e){if(e){var n=f("filter")(t.banksCopy,e);return{items:n}}return{items:[]}},t.itemsClicked=function(e){t.data.bankname=e.item.name},t.showCancel=function(){n.confirm({title:"",template:"Are you sure you want to cancel application?"}).then(function(t){t?(u.nextViewOptions({disableBack:!0}),m.nextDirection("back"),s.go("login")):console.log("You are not sure")})}}angular.module("starter").controller("VendorRateCtrl",t),t.$inject=["$scope","$ionicModal","$ionicPopup","$timeout","Banks","Currencies","Country","CityState","States","$state","$ionicHistory","$ionicViewSwitcher","localStorageService","$filter","$ionicNavBarDelegate"]}();
!function(){"use strict";function e(e,i,o,t,n,a,r,s,c,l,u,p){e.data={},e.others={},e.groups=[],e.othersList=[],e.filenames=[];for(var f=0;f<1;f++){e.groups[f]={name:f,items:[]};for(var m=0;m<1;m++)e.groups[f].items.push(f+"-"+m)}e.toggleGroup=function(i){e.isGroupShown(i)?e.shownGroup=null:e.shownGroup=i},e.isGroupShown=function(i){return e.shownGroup===i},e.removeOther=function(i){e.othersList.splice(i,1)},e.addOthers=function(i){_.isEmpty(i)||(e.othersList.push(i),e.others={})},e.uploadFiles=function(i){var t=i.files,n=[];for(f=0;f<t.length;f++)n.push(t[f].name);e.files=t,o(function(){e.$apply(function(){e.filenames=n})},10),console.log(t,n)},e.removetest=function(i){e.filenames.splice(i,1)},e.scanCertificateCamera=function(){var e=ionic.Platform.isWebView();ionic.Platform.platform();if(e)i.alert({title:"Invalid Platform",template:"Scanning using Camera is not available at this platform"});else if(window.cordova&&window.cordova.plugins){var o={quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:Camera.PictureSourceType.CAMERA,allowEdit:!0,encodingType:Camera.EncodingType.JPEG,targetWidth:100,targetHeight:100,popoverOptions:CameraPopoverOptions,saveToPhotoAlbum:!1,correctOrientation:!0};p.getPicture(o).then(function(e){var i="data:image/jpeg;base64,"+e;console.log("image: ",i)},function(e){})}else i.alert({title:"Invalid Platform",template:"Scanning using Camera is not available at this platform"})},e.showCancel=function(){i.confirm({title:"",template:"Are you sure you want to cancel application?"}).then(function(e){e&&(n.nextViewOptions({disableBack:!0}),a.nextDirection("back"),t.go("login"))})},e.showConfirm=function(){i.confirm({title:"",template:"Are you sure you want to submit application?"}).then(function(e){e&&(l.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),n.nextViewOptions({disableBack:!0}),a.nextDirection("forward"),o(function(){l.hide(),t.go("sent")},1e3))})}}angular.module("starter").controller("VendorQualificationCtrl",e),e.$inject=["$scope","$ionicPopup","$timeout","$state","$ionicHistory","$ionicViewSwitcher","localStorageService","$filter","$ionicNavBarDelegate","$ionicLoading","$ionicPopover","$cordovaCamera"]}();
!function(){"use strict";function i(i,e,o,t,c,n,r,s,$){}angular.module("starter").controller("UserProfileCtrl",i),i.$inject=["$scope","$ionicModal","$ionicPopup","$timeout","WeekDays","ionicTimePicker","$state","$ionicHistory","$ionicViewSwitcher"]}();
!function(){"use strict";function i(i,o,e,t,c,n,r,$,l){}angular.module("starter").controller("AdminProfileCtrl",i),i.$inject=["$scope","$ionicModal","$ionicPopup","$timeout","WeekDays","ionicTimePicker","$state","$ionicHistory","$ionicViewSwitcher"]}();
!function(){"use strict";function t(t,e,o,i,n,s,c,a){t.selectedTask=t.$parent.tasklist[0],t.showActiveTask=function(e){t.selectedTask=e,o(function(){c.scrollBottom(!0)},100)},t.doDashRefresh=function(){o(function(){t.$broadcast("scroll.refreshComplete")},2e3)},t.checkInOut=function(e){console.log("list: ",e);var i=[],c=_.find(t.tasklist,function(t){return"in"==t.Check});if(_.isUndefined(c)||i.push(c),"in"==e.Check)n.confirm({title:"<h4>Check-out to pause task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(i){i&&(a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),o(function(){a.hide(),_.map(t.tasklist,function(t){t==e&&(t.Check="out")})},1e3))}}]});else{if(1==i.length)return s.closeOptionButtons(),void n.alert({template:"You are currently check-in to other task. <br> Please check-out."});n.confirm({title:"<h4>Check-in to resume task</h4>",templateUrl:"../mobile/templates/dialog/checkin.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(i){i&&(a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),o(function(){a.hide(),_.map(t.tasklist,function(t){t==e&&(t.Check="in")})},1e3))}}]})}},t.showCheck=function(t){n.show({title:"<h4>Check-out to complete task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(n){n&&(s.closeOptionButtons(),i.nextDirection("forward"),a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),o(function(){a.hide(),"High"==t.Status?e.go("installationreport",{taskId:t.id}):"Medium"==t.Status?e.go("reporting",{taskId:t.id}):"Low"==t.Status&&e.go("sitesurvey",{taskId:t.id})},1e3))}}]})},t.deTails=function(t){s.closeOptionButtons(),i.nextDirection("forward"),o(function(){e.go("task-detail",{taskId:t.id})},250)}}angular.module("starter").controller("ContractorDashCtrl",t),t.$inject=["$scope","$state","$timeout","$ionicViewSwitcher","$ionicPopup","$ionicListDelegate","$ionicScrollDelegate","$ionicLoading"]}();
!function(){"use strict";function t(t,e,n,o,i,s,a){t.selectedTask=t.$parent.tasklist[0],t.$on("showTaskInfo",function(e,n){t.$parent.closependingModal(),t.$parent.closenewtaskModal(),t.$parent.closecompleted_ContractorModal(),t.deTails(n.taskId)}),t.$on("startTaskPending",function(e,n){t.startTask(n.taskId)}),t.showActiveTask=function(e){t.selectedTask=e},t.checkInOut=function(e){console.log("list: ",e);var o=[],c=_.find(t.tasklist,function(t){return"in"==t.Check});if(_.isUndefined(c)||o.push(c),"in"==e.Check)i.confirm({title:"<h4>Check-out to pause task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(o){o&&(a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),n(function(){a.hide(),_.map(t.tasklist,function(t){t==e&&(t.Check="out")})},1e3))}}]});else{if(1==o.length)return s.closeOptionButtons(),void i.alert({template:"You are currently check-in to other task. <br> Please check-out."});i.confirm({title:"<h4>Check-in to resume task</h4>",templateUrl:"../mobile/templates/dialog/checkin.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(o){o&&(a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),n(function(){a.hide(),_.map(t.tasklist,function(t){t==e&&(t.Check="in")})},1e3))}}]})}},t.completeTask=function(t){i.show({title:"<h4>Check-out to complete task</h4>",templateUrl:"../mobile/templates/dialog/checkout.html",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(i){i&&(s.closeOptionButtons(),o.nextDirection("forward"),a.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),n(function(){a.hide(),"High"==t.Status?e.go("installationreport",{taskId:t.id}):"Medium"==t.Status?e.go("reporting",{taskId:t.id}):"Low"==t.Status&&e.go("sitesurvey",{taskId:t.id})},1e3))}}]})},t.showAllPendingTask=function(){t.$parent.openpendingModal(),t.$parent.pendingData=t.pendingData},t.showAllNewTask=function(){t.$parent.opennewtaskModal()},t.completedTask=function(t){o.nextDirection("forward"),n(function(){e.go("completedtask")},100)},t.showConfirm=function(){i.confirm({title:"",template:"Are you sure you want to assign the task to Lorem Impatsu?"}).then(function(t){t&&(o.nextDirection("forward"),e.go("approve"))})},t.clickDecline=function(t){i.confirm({title:"",template:"Are you sure you want to decline task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(t){t&&(a.show({template:'<p>Declining...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),n(function(){a.hide(),i.alert({title:"",template:"Task has been declined"})},1e3))}}]})},t.deTails=function(t,i){s.closeOptionButtons(),o.nextDirection("forward"),n(function(){"progress"==t?e.go("task-detail-progress",{taskId:i.id}):"pending"==t?e.go("task-detail-pending",{taskId:i.id}):"new"==t?e.go("task-detail-new",{taskId:i.id}):"completed"==t&&e.go("task-detail",{taskId:i.id})},250)},t.startTask=function(e){var o=_.filter(t.tasklist,function(t){return"progress"==t.Task});o.length>2?i.alert({template:"You are currently check-in to 3 task. <br> Please check-out."}):i.confirm({title:"<h4>Check-in to start task</h4>",templateUrl:"./templates/dialog/checkin.html"}).then(function(o){o&&(a.show({template:'<p>Declining...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),n(function(){a.hide(),_.map(t.tasklist,function(t){t==e&&(t.Task="progress")}),t.pending=_.filter(t.tasklist,function(t){return"pending"==t.Task}),t.tasklist.splice(e,0)},1e3))})},t.newTaskqow=function(i){t.$parent.closenewtaskModal(),o.nextDirection("forward"),s.closeOptionButtons(),n(function(){e.go("qow")},250)},t.$on("submitQOW",function(e,n){t.$parent.closependingModal(),t.newTaskqow(n.taskId)}),t.$on("declineTaskOW",function(e,n){console.log("declineTaskOW"),t.clickDecline(n.taskId)}),t.doTaskRefresh=function(){n(function(){t.$broadcast("scroll.refreshComplete")},2e3)}}angular.module("starter").controller("ContractorTasksCtrl",t),t.$inject=["$scope","$state","$timeout","$ionicViewSwitcher","$ionicPopup","$ionicListDelegate","$ionicLoading"]}();
!function(){"use strict";function t(t,s,a,e){t.selectedTask={},t.tasklist=[],t.tasklist=a.all(),t.$watch("tasklist",function(s){t.selectedTask=_.find(s,{id:parseInt(e.taskId)})})}angular.module("starter").controller("ContractorTaskCtrl",t),t.$inject=["$scope","$timeout","Tasks","$stateParams"]}();
!function(){"use strict";function t(t,n,o,e,a,i,s,r){console.log("ContractorReportsCtrl");var l,c;t.selectedTask={},t.tasklist=[],t.signature=void 0,t.tasklist=e.all(),t.$watch("tasklist",function(n){t.selectedTask=_.find(n,{id:parseInt(a.taskId)})}),i.fromTemplateUrl("./templates/dialog/signature.modal.html",{scope:t,animation:"slide-in-up"}).then(function(n){t.signatureModal=n}),t.openSignatureModal=function(){console.log("openSignatureModal"),t.signatureModal.show(),l=document.getElementById("signatureCanvas"),c=new SignaturePad(l),c.minWidth=1,c.maxWidth=1.5,c.dotSize=3,c.backgroundColor="rgb(255, 255, 255)"},t.closeSignatureModal=function(){t.signatureModal.hide()},t.clearCanvas=function(){c.clear()},t.saveCanvas=function(){if(void 0!=c){var n=c.toDataURL("image/png");t.signature=n}},t.$on("$destroy",function(){t.signatureModal.remove(),t.signature=void 0}),t.$on("modal.hidden",function(){t.signature=void 0}),t.complete=function(){console.log("$stateParams:",a.taskId);var i=e.get(a.taskId);console.log("result:",i),i&&s.confirm({title:"",template:"Send report?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(e){e&&(r.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),n(function(){r.hide(),_.map(t.tasklist,function(t){t==i&&(t.Task="complete",o.go("tab.tasks"))}),t.progress=_.filter(t.tasklist,function(t){return"progress"==t.Task})},1e3))}}]})}}angular.module("starter").controller("ContractorReportsCtrl",t),t.$inject=["$scope","$timeout","$state","Tasks","$stateParams","$ionicModal","$ionicPopup","$ionicLoading"]}();
!function(){"use strict";function t(t,o,e,i,n,a,c,l){t.contacts=[],a.fromTemplateUrl("../mobile/templates/dialog/addmaterial.html",{scope:t,animation:"slide-in-up"}).then(function(o){t.modal=o}),t.openModal=function(){t.modal.show()},t.closeModal=function(){t.modal.hide()},t.createContact=function(o){o&&(t.contacts.push({name:o.itemName,description:o.description,rate:o.rate}),t.modal.hide())},t.quotsub=function(){c.confirm({title:"",template:"Submit Quote?"}).then(function(t){t&&(l.nextDirection("back"),e.go("tab.tasks"))})}}angular.module("starter").controller("ContractorQOWCtrl",t),t.$inject=["$scope","$timeout","$state","Tasks","$stateParams","$ionicModal","$ionicPopup","$ionicViewSwitcher"]}();
!function(){"use strict";function o(o,e,t,n,r,i,c,p){o.reportdone2=function(e){o.$parent.closerecentreportModal(),o.$parent.closemyreportModal(),p.closeOptionButtons(),r.nextDirection("forward"),n(function(){t.go("reportdone2",{reportId:e.id})},250)},o.downloadReport=function(o){e.show({template:'<p>Downloading...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),p.closeOptionButtons(),n(function(){e.hide(),i.alert({title:"",template:"Report has been downloaded"})},2e3)},o.doReportingRefresh=function(){n(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.$on("showReportInfo",function(e,t){o.reportdone2(t.reportId)}),o.$on("downloadReportInfo",function(e,t){o.downloadReport(t.reportId)}),c.reportId&&(o.doReportRefresh=function(){n(function(){o.$broadcast("scroll.refreshComplete")},2e3)})}angular.module("starter").controller("ContractorReportingCtrl",o),o.$inject=["$scope","$ionicLoading","$state","$timeout","$ionicViewSwitcher","$ionicPopup","$stateParams","$ionicListDelegate"]}();
!function(){"use strict";function o(o,e,t,n,a,r,s,l,i,c){o.progressData=[],o.pendingData=[],o.completedData=[],o.newTaskData=[],o.reportsData=[],o.tasklist=s.all(),_.each(o.tasklist,function(e){"progress"==e.Task&&o.progressData.push(e),"pending"==e.Task&&o.pendingData.push(e),""==e.Task&&o.newTaskData.push(e),"completed"==e.Task&&o.completedData.push(e)}),o.reportsData=l.all();var p=JSON.parse(t.get("user"));o.user=p,o.showReportDetails=function(e){console.log("showReportDetails: ",e),o.$broadcast("showReportInfo",{reportId:e})},o.downloadReportDetails=function(e){console.log("downloadReportDetails: ",e),o.$broadcast("downloadReportInfo",{reportId:e})},o.showTaskDetails=function(e){console.log("showTaskDetails"),o.$broadcast("showTaskInfo",{taskId:e})},o.startPendingTask=function(e){o.$broadcast("startTaskPending",{taskId:e})},o.doMyReportsRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doCompletedTaskRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doNewTaskRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doPendingTaskRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doReportingRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},n.fromTemplateUrl("./templates/dialog/editpro.html",{rootScope:a}).then(function(o){a.popover1=o}),n.fromTemplateUrl("./templates/dialog/profilePopOver.html",{scope:o}).then(function(e){o.mainPopover=e}),o.showPopover=function(e){o.mainPopover.show(e)},o.showUserProfile=function(t){o.mainPopover.hide(),c.nextDirection("forward"),e.go("userprofile")},a.$on("closeProfilePopover",function(){o.mainPopover.hide()}),r.fromTemplateUrl("./templates/dialog/progress.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.progressModal=e}),o.opendetailsModal=function(){console.log("opendetailsModal"),o.progressModal.show()},o.closeModal=function(){o.progressModal.hide()},r.fromTemplateUrl("./templates/dialog/contractor_taskinprogress.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.taskinprogressModal=e}),o.opentaskinprogressModal=function(){o.taskinprogressModal.show()},o.closetaskinprogressModal=function(){o.taskinprogressModal.hide()},a.$on("closetaskinprogressModal",function(){console.log("closetaskmodal"),o.taskinprogressModal.hide()}),r.fromTemplateUrl("./templates/dialog/contractor_pending.html",{scope:o,animation:"slide-in-up",controller:"ContractorDashCtrl"}).then(function(e){o.pendingModal=e}),o.openpendingModal=function(){o.pendingModal.show()},o.closependingModal=function(){o.pendingModal.hide()},o.$on("closependingModal",function(){o.pendingModal.hide()}),r.fromTemplateUrl("./templates/dialog/contractor_newtask.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.newtaskModal=e}),o.opennewtaskModal=function(){console.log("opendetailsModal"),o.newtaskModal.show()},o.closenewtaskModal=function(){o.newtaskModal.hide()},o.submitQOW=function(e){o.$broadcast("submitQOW",{taskId:e})},o.declineTask=function(e){o.$broadcast("declineTaskOW",{taskId:e})},r.fromTemplateUrl("./templates/dialog/contractor_completed.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.contractor_completed=e}),o.opencompleted_ContactorModal=function(){o.contractor_completed.show()},o.closecompleted_ContractorModal=function(){o.contractor_completed.hide()},r.fromTemplateUrl("./templates/dialog/contractor_recentlysentreport.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.recentreportModal=e}),o.openrecentreportModal=function(){console.log("openrecentreportModal"),o.recentreportModal.show()},o.closerecentreportModal=function(){o.recentreportModal.hide()},r.fromTemplateUrl("./templates/dialog/contractor_myreports.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.myreportModal=e}),o.openmyreportModal=function(){console.log("openmyreportModal"),o.myreportModal.show()},o.closemyreportModal=function(){o.myreportModal.hide()},o.$on("closemyreportModal",function(){o.myreportModal.hide()})}angular.module("starter").controller("ContactorMainCtrl",o),o.$inject=["$scope","$state","localStorageService","$ionicPopover","$rootScope","$ionicModal","Tasks","Reports","$timeout","$ionicViewSwitcher"]}();
!function(){"use strict";function o(o,e,t,n,a,r,s,l,i,p){o.progressData=[],o.pendingData=[],o.completedData=[],o.newTaskData=[],o.reportsData=[],o.tasklist=s.all(),_.each(o.tasklist,function(e){"progress"==e.Task&&o.progressData.push(e),"pending"==e.Task&&o.pendingData.push(e),""==e.Task&&o.newTaskData.push(e),"completed"==e.Task&&o.completedData.push(e)}),o.reportsData=l.all();var c=JSON.parse(t.get("user"));o.user=c,o.showReportDetails=function(e){console.log("showReportDetails: ",e),o.$broadcast("showReportInfo",{reportId:e})},o.showReportDetails2=function(e){console.log("showReportDetails: ",e),o.$broadcast("showReportInfo2",{reportId:e})},o.downloadReportDetails=function(e){console.log("downloadReportDetails: ",e),o.$broadcast("downloadReportInfo",{reportId:e})},o.showTaskDetails=function(e){o.$broadcast("showTaskInfo",{taskId:e})},o.showQOWList=function(e){o.$broadcast("showQOWInfo",{taskId:e})},o.closeTaskDetails=function(e){o.$broadcast("closeTaskCompleted",{taskId:e})},o.doAllTaskRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doPendingTaskRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.doReportingRefresh=function(){i(function(){o.$broadcast("scroll.refreshComplete")},2e3)},n.fromTemplateUrl("./templates/dialog/editpro.html",{rootScope:a}).then(function(o){a.popover1=o}),n.fromTemplateUrl("./templates/dialog/profilePopOver.html",{scope:o}).then(function(e){o.mainPopover=e}),o.showPopover=function(e){o.mainPopover.show(e)},o.showAdminProfile=function(t){o.mainPopover.hide(),p.nextDirection("forward"),e.go("adminprofile")},a.$on("closeProfilePopover",function(){o.mainPopover.hide()}),r.fromTemplateUrl("./templates/dialog/progress.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.progressModal=e}),o.opendetailsModal=function(){console.log("opendetailsModal"),o.progressModal.show()},o.closeModal=function(){o.progressModal.hide()},r.fromTemplateUrl("./templates/dialog/procurement_taskinprogress.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.taskinprogressModal=e}),o.opentaskinprogressModal=function(){o.taskinprogressModal.show()},o.closetaskinprogressModal=function(){o.taskinprogressModal.hide()},r.fromTemplateUrl("./templates/dialog/procurement_pending.html",{scope:o,animation:"slide-in-up",controller:"ContractorDashCtrl"}).then(function(e){o.procurement_PendingModal=e}),o.openProcPendingModal=function(){o.procurement_PendingModal.show()},o.closeProcPendingModal=function(){o.procurement_PendingModal.hide()},r.fromTemplateUrl("./templates/dialog/procurement_newtask.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.newtaskModal=e}),o.opennewtaskModal=function(){o.newtaskModal.show()},o.closenewtaskModal=function(){o.newtaskModal.hide()},o.submitQOW=function(e){o.$broadcast("submitQOW",{taskId:e})},o.declineTask=function(e){o.$broadcast("declineTaskOW",{taskId:e})},r.fromTemplateUrl("./templates/dialog/procurement_completed.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.completedTaskModal=e}),o.opencompletedModal=function(){o.completedTaskModal.show()},o.closecompletedModal=function(){o.completedTaskModal.hide()},r.fromTemplateUrl("./templates/dialog/procurement_recentlysentreport.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.recentreportModal=e}),o.openrecentreportModal=function(){console.log("openrecentreportModal"),o.recentreportModal.show()},o.closerecentreportModal=function(){o.recentreportModal.hide()},r.fromTemplateUrl("./templates/dialog/procurement_myreports.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.myreportModal=e}),o.openmyreportModal=function(){o.myreportModal.show()},o.closemyreportModal=function(){o.myreportModal.hide()}}angular.module("starter").controller("ProcurementMainCtrl",o),o.$inject=["$scope","$state","localStorageService","$ionicPopover","$rootScope","$ionicModal","Tasks","Reports","$timeout","$ionicViewSwitcher"]}();
!function(){"use strict";function o(o,e,t,n,c,i,a,r,l,s){o.selectedTask=o.$parent.tasklist[0],o.showActiveTask=function(e){o.selectedTask=e,n(function(){s.scrollBottom(!0)},100)},o.deTails=function(o){l.closeOptionButtons(),c.nextDirection("forward"),n(function(){t.go("procure_task_detail",{taskId:o.id})},250)},o.$on("showTaskInfo",function(e,t){l.closeOptionButtons(),o.$parent.closetaskinprogressModal(),o.deTails(t.taskId)}),o.doTaskRefresh=function(){n(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.clickme=function(){o.model=!0},o.filter={direct:!1,check:!0,check1:!1},o.showModerate=function(){o.filter={direct:!0,check:!1,check1:!1}},o.showHigh=function(){o.filter={direct:!1,check:!0,check1:!1}},o.showLow=function(){o.filter={direct:!1,check:!1,check1:!0}},o.completedTask=function(o){c.nextDirection("forward"),n(function(){t.go("completedtask")},100)},i.fromTemplateUrl("../mobile/templates/dialog/contractorlist.html",{scope:o,animation:"slide-in-up"}).then(function(e){o.modal=e}),o.openModal=function(){o.modal.show()},o.closeModal=function(){o.modal.hide()},o.createContact=function(e){o.contacts.push({name:e.firstName+" "+e.lastName}),o.modal.hide()},o.forApproval=function(o){c.nextDirection("forward"),n(function(){t.go("forapproval")},100)},o.pendingDetails=function(e){o.popover.hide(),c.nextDirection("forward"),n(function(){t.go("pendingtask")},100)},o.createTask=function(o){o.$valid&&console.log("form valid")}}angular.module("starter").controller("ProcurementDashCtrl",o),o.$inject=["$scope","$ionicPopover","$state","$timeout","$ionicViewSwitcher","$ionicModal","localStorageService","$ionicPopup","$ionicListDelegate","$ionicScrollDelegate"]}();
!function(){"use strict";function e(e,t,n,a,i,o,s,r,c,u){i.taskId&&(e.selectedTask={},e.tasklist=[],e.tasklist=a.all(),e.$watch("tasklist",function(t){e.selectedTask=_.find(t,{id:parseInt(i.taskId)})})),e.openDatePicker=function(){o.openDatePicker({callback:function(t){console.log("Return value from the datepicker popup is sssss: "+t,new Date(t));var n=new Date(t);e.newDate=moment(n).format("MM-DD-YYYY")},disabledDates:[new Date(2016,2,16),new Date(2015,3,16),new Date(2015,4,16),new Date(2015,5,16),new Date("Wednesday, August 12, 2015"),new Date("08-16-2016"),new Date(1439676e6)],from:new Date(2012,1,1),to:new Date(2016,10,30),inputDate:new Date,mondayFirst:!0,disableWeekdays:[0],closeOnSelect:!1,templateType:"popup"})},e.openTime=function(){var t=new Date;s.openTimePicker({callback:function(n){var a=Math.floor(n/60/60),i=n/60%60;t.setHours(a,i);var o=(t.getHours(),a>=12?"PM":"AM");a%=12,a=a?a:12,i=i<10?"0"+i:i,e.start=a+":"+i+" "+o},inputTime:60*t.getHours()*60+60*t.getMinutes(),format:12})},e.openTime2=function(){var t=new Date;s.openTimePicker({callback:function(n){var a=Math.floor(n/60/60),i=n/60%60;t.setHours(a,i);var o=(t.getHours(),a>=12?"PM":"AM");a%=12,a=a?a:12,i=i<10?"0"+i:i,e.end=a+":"+i+" "+o},inputTime:60*t.getHours()*60+60*t.getMinutes(),format:12})},e.tasksend=function(){u.show({template:'<p>Sending...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),t(function(){u.hide(),r.alert({title:"",template:"Your task has been sent"}).then(function(e){c.nextDirection("back"),n.go("tab-procure.admintasks")})},1e3)}}angular.module("starter").controller("ProcurementTaskCtrl",e),e.$inject=["$scope","$timeout","$state","Tasks","$stateParams","ionicDatePicker","ionicTimePicker","$ionicPopup","$ionicViewSwitcher","$ionicLoading"]}();
!function(){"use strict";function t(t,o,n,e,s,i,a,c){t.doTaskRefresh=function(){o(function(){t.$broadcast("scroll.refreshComplete")},2e3)},t.$on("showTaskInfo",function(o,n){s.closeOptionButtons(),t.$parent.closetaskinprogressModal(),t.$parent.closeProcPendingModal(),t.$parent.closenewtaskModal(),t.$parent.closecompletedModal(),t.deTails(n.taskId)}),t.$on("startTaskPending",function(o,n){t.startTask(n.taskId)}),t.$on("showQOWInfo",function(o,n){s.closeOptionButtons(),t.$parent.closenewtaskModal(),t.qowlist(n.taskId)}),t.$on("closeTaskCompleted",function(o,n){s.closeOptionButtons(),t.closeTask(n.taskId)}),t.startTask=function(o){var n=_.filter(t.tasklist,function(t){return"progress"==t.Task});n.length>2?(s.closeOptionButtons(),a.alert({template:"You are currently check-in to 3 task. <br> Please check-out."})):a.confirm({title:"<h4>Check-in to start task</h4>",templateUrl:"./templates/dialog/checkin.html"}).then(function(n){n&&(_.map(t.tasklist,function(t){t==o&&(t.Task="progress")}),t.pending=_.filter(t.tasklist,function(t){return"pending"==t.Task}),t.tasklist.splice(o,0),s.closeOptionButtons())})},t.deTails=function(t){s.closeOptionButtons(),i.nextDirection("forward"),o(function(){n.go("task-detail",{taskId:t.id})},250)},t.qowlist=function(t){s.closeOptionButtons(),i.nextDirection("forward"),o(function(){n.go("quotelist",{taskId:t.id})},250)},t.closeTask=function(n){a.confirm({title:"",template:"Are you sure you want to close task?",buttons:[{text:"NO"},{text:"YES",type:"button-positive",onTap:function(n){n&&(c.show({template:'<ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),s.closeOptionButtons(),o(function(){c.hide(),a.alert({title:"",template:"Task has been closed"}).then(function(){t.$parent.closecompletedModal()})},1e3))}}]})}}angular.module("starter").controller("ProcurementTasksCtrl",t),t.$inject=["$scope","$timeout","$state","$stateParams","$ionicListDelegate","$ionicViewSwitcher","$ionicPopup","$ionicLoading"]}();
!function(){"use strict";function o(o,e,t,n,r,i,c,p,d,a,l){o.reportdone2=function(e){o.$parent.closerecentreportModal(),o.$parent.closemyreportModal(),l.closeOptionButtons(),r.nextDirection("forward"),n(function(){t.go("procure_reportdone2",{reportId:e.id})},250)},o.reportdone=function(e){o.$parent.closerecentreportModal(),o.$parent.closemyreportModal(),l.closeOptionButtons(),r.nextDirection("forward"),t.go("procure_reportdone",{reportId:e.id})},o.downloadReport=function(o){e.show({template:'<p>Downloading...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),n(function(){e.hide(),c.alert({title:"",template:"Report has been downloaded"}).then(function(){l.closeOptionButtons()})},2e3)},o.doReportingRefresh=function(){n(function(){o.$broadcast("scroll.refreshComplete")},2e3)},o.$on("showReportInfo2",function(e,t){o.reportdone2(t.reportId)}),o.$on("showReportInfo",function(e,t){o.reportdone(t.reportId)}),o.$on("downloadReportInfo",function(e,t){o.downloadReport(t.reportId)}),a.reportId&&(o.doReportRefresh=function(){n(function(){o.$broadcast("scroll.refreshComplete")},2e3)})}angular.module("starter").controller("ProcurementReportingCtrl",o),o.$inject=["$scope","$ionicLoading","$state","$timeout","$ionicViewSwitcher","$ionicModal","$ionicPopup","$filter","localStorageService","$stateParams","$ionicListDelegate"]}();
!function(){"use strict";function n(n,e,o,i,t,a){n.dimage=function(n){t.show({template:'<p>Downloading...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),e(function(){t.hide(),a.alert({title:"",template:"Images downloaded"})},2e3)},n.downloadReport=function(n){t.show({template:'<p>Downloading...</p><ion-spinner icon="android" class="spinner-positive"></ion-spinner>'}),e(function(){t.hide(),a.alert({title:"",template:"Report has been downloaded"})},2e3)}}angular.module("starter").controller("ProcurementReportsCtrl",n),n.$inject=["$scope","$timeout","$state","$stateParams","$ionicLoading","$ionicPopup"]}();
!function(){"use strict";function o(o,t,e,i,r,n,c,a,s,u,l,f){o.showConfirm=function(){c.confirm({title:"",template:"Are you sure you want to assign the task to Lorem Impatsu?"}).then(function(o){o?(r.nextDirection("forward"),e.go("approve")):console.log("You are not sure")})},o.gotToProfile=function(o){r.nextDirection("forward"),e.go("userprofile")}}angular.module("starter").controller("ProcurementQoutesCtrl",o),o.$inject=["$scope","$ionicPopover","$state","$timeout","$ionicViewSwitcher","$ionicModal","$ionicPopup","$filter","localStorageService","Tasks","$stateParams","$ionicListDelegate"]}();
!function(){"use strict";angular.module("starter").factory("Tasks",function(){var e=[{id:1,Title:"Network Setup",Description:"7-Eleven",Status:"High",Task:"progress",Check:"out",location:"Sydney CDB",deadline:"2016-01-01",client:"7-Eleven"},{id:2,Title:"AV-Installation",Description:"Telstra,Melbourne",Status:"Medium",Task:"progress",Check:"out",location:"Sydney CDB",deadline:"2016-01-01",client:"7-Eleven"},{id:3,Title:"Hardware Installation",Description:"Telstra,Melbourne",Status:"Low",Task:"",Check:"out",location:"Sydney CDB",deadline:"2016-01-01",client:"7-Eleven"},{id:4,Title:"Network Setup",Description:"7-Eleven",Status:"High",Task:"completed",Check:"out",location:"Sydney CDB",deadline:"2016-01-01",client:"7-Eleven"},{id:5,Title:"AV-Installation",Description:"Telstra,Melbourne",Status:"Medium",Task:"pending",Check:"out",location:"Sydney CDB",deadline:"2016-01-01",client:"7-Eleven"},{id:6,Title:"Hardware Installation",Description:"Telstra,Melbourne",Status:"Low",Task:"pending",Check:"out",location:"Sydney CDB",deadline:"2016-01-01",client:"7-Eleven"},{id:7,Title:"luckzuu Installation",Description:"Telstra,Melbourne",Status:"Low",Task:"",Check:"out",location:"Sydney CDB",deadline:"2016-01-01",client:"7-Eleven"},{id:8,Title:"luckzuu Setup",Description:"Telstra,Melbourne",Status:"Low",Task:"",Check:"out",location:"Sydney CDB",deadline:"2016-01-01",client:"7-Eleven"},{id:9,Title:"luckzuu Setup",Description:"Telstra,Melbourne",Status:"Low",Check:"out",Task:"pending",location:"Sydney CDB",deadline:"2016-01-01",client:"7-Eleven"}];return{all:function(){return e},remove:function(n){e.splice(e.indexOf(n),1)},get:function(n){for(var t=0;t<e.length;t++)if(e[t].id===parseInt(n))return e[t];return null}}}).factory("Reports",function(){var e=[{id:1,Title:"Network Setup",Description:"7-Eleven",Status:"High",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"},{id:2,Title:"AV-Installation",Description:"Telstra,Melbourne",Status:"Medium",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"},{id:2,Title:"Hardware-Installation",Description:"Telstra,Melbourne",Status:"Medium",location:"Sydney CDB",datecompleted:"2016-01-01",client:"7-Eleven"}];return{all:function(){return e}}}).factory("WeekDays",function(){var e=[{id:1,name:"Sunday",abbr:"SUN"},{id:2,name:"Monday",abbr:"MON"},{id:3,name:"Tuesday",abbr:"TUE"},{id:4,name:"Wednesday",abbr:"WED"},{id:5,name:"Thursday",abbr:"THU"},{id:6,name:"Friday",abbr:"FRI"},{id:7,name:"Saturday",abbr:"SAT"}];return{all:function(){return e},get:function(n){for(var t=0;t<e.length;t++)if(e[t].id===parseInt(n))return e[t];return null}}}).factory("States",function(){var e=[{id:1,code:"ACT",name:"Australian Capital Territory"},{id:2,code:"NSW",name:"New South Wales"},{id:3,code:"NT",name:"Northern Territory"},{id:4,code:"QLD",name:"Queensland"},{id:5,code:"SA",name:"South Australia"},{id:6,code:"TAS",name:"Tasmania"},{id:7,code:"VIC",name:"Victoria"},{id:8,code:"WA",name:"Western Australia"}];return{all:function(){return e},get:function(n){for(var t=0;t<e.length;t++)if(e[t].id===parseInt(n))return e[t];return null}}}).factory("Country",function(){var e=[{id:1,code:"AUS",name:"Australia"},{id:2,code:"NZ",name:"New Zealand"}];return{all:function(){return e},get:function(n){for(var t=0;t<e.length;t++)if(e[t].id===parseInt(n))return e[t];return null}}}).factory("CityState",["$http",function(e){return{all:function(n){return"ACT"==n?(console.log("state: ",n),e.get("./data/act.json").success(function(e){return e})):"NSW"==n?e.get("./data/nsw.json").success(function(e){return e}):"NT"==n?e.get("./data/nt.json").success(function(e){return e}):"QLD"==n?e.get("./data/qld.json").success(function(e){return e}):"SA"==n?e.get("./data/sa.json").success(function(e){return e}):"VIC"==n?e.get("./data/vic.json").success(function(e){return e}):"WA"==n?e.get("./data/wa.json").success(function(e){return e}):void 0},get:function(e){}}}]).factory("Banks",["$http",function(e){return{all:function(){return e.get("./data/bank.json").success(function(e){return e})},get:function(n){return e.get("./data/bank.json").success(function(e){return e})}}}]).factory("Currencies",["$http",function(e){return{all:function(){return e.get("./data/currency.new.json").success(function(e){return e})},get:function(n){return e.get("./data/currency.new.json").success(function(e){return e})}}}])}();
!function(){"use strict";angular.module("starter").directive("errSrc",function(){return{link:function(n,o,e){n.$watch(function(){return e.ngSrc},function(n){n||o.attr("src",e.errSrc)}),o.bind("error",function(){o.attr("src",e.errSrc)})}}}).directive("validNumber",function(){return{require:"?ngModel",link:function(n,o,e,t){t&&o.bind("keypress",function(n){var e=o.val()+(0!==n.charCode?String.fromCharCode(n.charCode):"");0===o.val().search(/(.*)\.[0-9][0-9]/)&&e.length>o.val().length&&n.preventDefault()})}}}).directive("ionFloatingButton",function(){return{restrict:"E",scope:{click:"&?",buttonColor:"@?",buttonClass:"@?",icon:"@?",iconColor:"@?",hasFooter:"=?"},template:'<ul id="floating-button" ng-style="{\'bottom\' : \'{{bottomValue}}\' }"><li ng-class="buttonClass" ng-style="{\'background-color\': buttonColor }"><a ng-click="click()"><i class="icon menu-icon" ng-class="{ \'{{icon}}\' : true}" ng-style="{\'color\': iconColor }"></i></a></li></ul>',replace:!0,transclude:!0,controller:["$scope",function(n){n.buttonColor=n.buttonColor||"#2AC9AA",n.icon=n.icon||"ion-plus",n.iconColor=n.iconColor||"#fff",n.hasFooter=n.hasFooter||!1,n.hasFooter?n.bottomValue="60px":n.bottomValue="20px"}]}}).directive("ionFloatingMenu",function(){return{restrict:"E",scope:{menuOpenColor:"@?",menuOpenIcon:"@?",menuOpenIconColor:"@?",menuColor:"@?",menuIcon:"@?",menuIconColor:"@?",hasFooter:"=?"},template:'<ul id="floating-menu"  \n                            ng-style="{\'bottom\' : \'{{bottomValue}}\'}" \n                            ng-class="{\'active\' : isOpen}" \n                            ng-click="open()"><div ng-transclude></div><span><li class="menu-button icon menu-icon" ng-class="icon" ng-style="{\'background-color\' : buttonColor, \'color\': iconColor}"></li></span></ul>',replace:!0,transclude:!0,link:function(n,o,e,t,i){o.find("div").replaceWith(i())},controller:["$scope",function(n){n.isOpen=!1,n.open=function(){n.isOpen=!n.isOpen,n.isOpen?n.setOpen():n.setClose()},n.setOpen=function(){n.buttonColor=i,n.icon=r,n.iconColor=c},n.setClose=function(){n.buttonColor=o,n.icon=e,n.iconColor=t};var o=n.menuColor||"#2AC9AA",e=n.menuIcon||"ion-plus",t=n.menuIconColor||"#fff",i=n.menuOpenColor||"#2AC9AA",r=n.menuOpenIcon||"ion-minus",c=n.menuOpenIconColor||"#fff";n.setClose(),n.hasFooter=n.hasFooter||!1,n.hasFooter?n.bottomValue="60px":n.bottomValue="20px"}]}}).directive("ionFloatingItem",function(){return{restrict:"E",require:["^ionFloatingMenu"],scope:{click:"&?",icon:"@",buttonColor:"@?",buttonClass:"@?",iconColor:"@?",text:"@?",textClass:"@?"},template:'<li ng-click="click()" ng-class="buttonClass" ng-style="{\'background-color\': buttonColor }"><span ng-if="text" class="label-container"><span class="label" ng-class="textClass" ng-bind="text"></span></span><i class="icon menu-icon" ng-class="{ \'{{icon}}\' : true}" ng-style="{\'color\': iconColor }"></i></li>',replace:!0,controller:["$scope",function(n){n.buttonColor=n.buttonColor||"#2AC9AA",n.iconColor=n.iconColor||"#fff"}]}}).directive("ionProfilePicture",["$ionicTemplateLoader","$ionicBackdrop","$q","$timeout","$rootScope","$document",function(n,o,e,t,i,r){return{require:"?ngModel",restrict:"E",template:'<div class="ion-profile-picture no-picture"><input type="file" accept="image/*" capture /></div>',replace:!0,link:function(n,o,e,t){var i=angular.element(o.find("input")),r=void 0;if(!t)return console.error("ion-profile-picture:","Need to set ng-model"),!1;var c=function(n){i[0].click()},l=function(o){var e=new FileReader;e.onload=function(o){n.$apply(function(){t.$setViewValue(o.target.result),t.$render()})},r=o.target.files[0],r&&e.readAsDataURL(r)};t.$formatters.unshift(function(n){return n?n:""}),t.$parsers.unshift(function(n){return n}),t.$render=function(){var n=t.$viewValue;n?(n.match(/^data:.*?;base64,/i)||(n="data:image/jpg;base64,"+n),o.css({"background-image":"url("+n+")"}),o.removeClass("no-picture")):(o.css({"background-image":"none"}),o.addClass("no-picture"))},o.on("click",c),i.on("change",l)}}}]).directive("onValidSubmit",["$parse","$timeout",function(n,o){return{require:"^form",restrict:"A",link:function(o,e,t,i){i.$submitted=!1;var r=n(t.onValidSubmit);e.on("submit",function(n){o.$apply(function(){e.addClass("ng-submitted"),i.$submitted=!0,i.$valid&&"function"==typeof r&&r(o,{$event:n})})})}}}]).directive("validated",["$parse","ionicToast",function(n,o){return{restrict:"AEC",require:"^form",link:function(n,e,t,i){for(var r=e.find("*"),c=0,l=0;l<r.length;l++)!function(e){var t=e.attributes;if(void 0!=t.getNamedItem("ng-model")&&void 0!=t.getNamedItem("name")){var r=i[t.name.value];void 0!=r&&n.$watch(function(){return i.$submitted+"_"+r.$valid},function(){if(1==i.$submitted){var n=angular.element(e);n.hasClass("ng-invalid")?(console.log("if: ",n),c++,c>0?o.show("Field are required!","top",!1,2500):o.hide()):(c=0,console.log("else: ",n))}})}}(r[l])}}}])}();