<ion-view view-title="Create Task" class="vendor-info">
    <ion-nav-buttons side="secondary">
        <button class="button button-icon ion-ios-gear-outline" ng-click="$parent.showPopover($event)"></button>
    </ion-nav-buttons>
    <ion-content class="padding form animated fadeInLeft">
        <form name="taskForm" novalidate="" on-valid-submit="createTask(taskForm)">
            <div class="list padding-top">
                <label class="new-label">TASK NAME</label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left item-icon-right validated">
                    <span class="i-con ion-ios-compose-outline"></span>
                    <input type="text" placeholder="Task Name" ng-model="task.taskname" required>
                    <i class="icon ion-alert-circled error"></i>
                </label>
            </div>
            <div class="list padding-top">
                <label class="new-label">TASK TYPE</small>
                </label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left item-select" style="height: 48px;">
                    <span class="i-con ion-ios-list-outline"></span>
                    <select style="background-color: transparent;" ng-options="types.value as types.name for types in taskTypes" ng-model="task.tasktype">
                        <option value="" disabled selected hidden>Task Types...</option>
                    </select>
                </label>
            </div>
            <div class="list padding-top">
                <label class="new-label">DESCRIPTION</small>
                </label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left item-icon-right">
                    <textarea rows="4" ng-model="task.description" ng-bind-html="task.description" placeholder="Description"></textarea>
                </label>
            </div>
            <div class="list padding-top">
                <label class="new-label">STORE NAME</label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left item-icon-right validated">
                    <span class="i-con ion-ios-home-outline"></span>
                    <input type="text" placeholder="Store Name" ng-model="task.storename" required>
                    <i class="icon ion-alert-circled error"></i>
                </label>
            </div>
            <div class="list padding-top">
                <label class="new-label">LOCATION</label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left item-icon-right validated">
                    <span class="i-con ion-ios-location-outline"></span>
                    <input type="text" placeholder="Location" ng-model="task.location" required>
                    <i class="icon ion-alert-circled error"></i>
                </label>
            </div>
            <div class="list padding-top">
                <label class="new-label">DEADLINE</label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left">
                    <span class="i-con ion-ios-calendar-outline"></span>
                    <input type="text" placeholder="Specify Date" ng-click="openDatePicker()" ng-readonly="true" ng-model="task.deadline" required>
                </label>
            </div>
            <div class="row">
                <div class="col col-50">
                    <label class="item item-input item-icon-left">
                        <input type="text" placeholder="Start Time" ng-click="openTime()" ng-readonly="true" ng-model="task.start" required>
                        <span class="i-con ion-clock"></span>
                    </label>
                </div>
                <div class="col col-50">
                    <label class="item item-input item-icon-left">
                        <input type="text" placeholder="End Time" ng-click="openTime2()" ng-readonly="true" ng-model="task.end" required>
                        <span class="i-con ion-clock"></span>
                    </label>
                </div>
            </div>
            <div class="list padding-top">
                <label class="new-label">ESTIMATE DAY/TIME OF TASK COMPLETION</label>
            </div>
            <div class="row" style="margin-top:-20px;">
                <div class="col col-50">
                    <label class="item item-input item-icon-right validated">
                        <input type="number" placeholder="# of days" ng-model="task.numdays" required>
                        <i class="icon ion-alert-circled error"></i>
                    </label>
                </div>
                <div class="col col-50">
                    <label class="item item-input item-icon-right validated">
                        <input type="number" placeholder="# of hours" ng-model="task.numhours" required>
                        <i class="icon ion-alert-circled error"></i>
                    </label>
                </div>
            </div>
            <div class="list padding-top">
                <label class="new-label">PRIORITY</small>
                </label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left item-select" style="height: 48px;">
                    <span class="i-con ion-ios-information-outline"></span>
                    <select style="background-color: transparent;" ng-options="prio.value as prio.name for prio in priorities" ng-model="task.priority">
                        <option value="" disabled selected hidden>Priorities...</option>
                    </select>
                </label>
            </div>
            <div class="list padding-top">
                <label class="new-label">PROJECT NAME</label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left item-icon-right validated">
                    <span class="i-con ion-ios-box-outline"></span>
                    <input type="text" placeholder="Project Name" ng-model="task.projectname" required>
                    <i class="icon ion-alert-circled error"></i>
                </label>
            </div>
            <div class="list padding-top">
                <label class="new-label">CASE NUMBER <small style="font-style:italic;">(If applicable)</small></label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left">
                    <span class="i-con ion-ios-copy-outline"></span>
                    <input type="number" placeholder="i.e 0162548" ng-model="task.casenumber">
                </label>
            </div>
            <div class="list padding-top">
                <label class="new-label">REQUESTED BY</label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left item-icon-right validated">
                    <span class="i-con ion-ios-people-outline"></span>
                    <input type="text" placeholder="Name of requestor" ng-model="task.requestor" required>
                    <i class="icon ion-alert-circled error"></i>
                </label>
            </div>
            <div class="list padding-top">
                <label class="new-label">DATE REQUESTED</label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left item-icon-right validated">
                    <span class="i-con ion-ios-calendar-outline"></span>
                    <input type="text" placeholder="Specify Date" ng-click="openDatePicker(ipObj1)" name="specifydate" ng-model="task.data_requested" required>
                    <i class="icon ion-alert-circled error"></i>
                </label>
            </div>
            <div class="list padding-top">
                <label class="new-label">SITE/STORE CONTACT</label>
            </div>
            <div class="list list-inset" style="margin-top: -15px;">
                <label class="item item-input item-icon-left item-icon-right validated">
                    <span class="i-con ion-ios-person-outline"></span>
                    <input type="text" placeholder="Last Name" ng-model="task.storelname" required>
                    <i class="icon ion-alert-circled error"></i>
                </label>
                <label class="item item-input item-icon-left item-icon-right validated">
                    <span class="i-con "></span>
                    <input type="text" placeholder="First Name" ng-model="task.storefname" required>
                    <i class="icon ion-alert-circled error"></i>
                </label>
            </div>
            <div class="list list-inset">
                <label class="item item-input item-icon-left item-icon-right">
                    <span class="i-con ion-ios-telephone-outline"></span>
                    <input type="text" placeholder="Contact Number" ng-model="task.storeconnum" required>
                    <i class="icon ion-alert-circled error"></i>
                </label>
            </div>
            <div class="margin-top-10"><small style="font-style:italic;margin-left:10px;">(Attach PSD file if applicable)</small>
                <a class="button add-button" ng-click="attachedFile()" style="margin-top:0px;">Attach PSD</a>
            </div>
            <br>
            <hr>
            <h4 class="new-label padding-top">ASSIGN TO CONTRACTOR/S</h4>
            <div class="list padding-right padding-left">
                <ion-checkbox class="checkbox-square checkboxList" ng-repeat="item in task.contractors">
                    <small>{{item.lname | uppercase}}, {{item.fname | uppercase}}</small>
                </ion-checkbox>
            </div>
            <a style="float:right;margin-right:10px;margin-top: -15px;" ng-click="openContractorModal()"><small>CLICK HERE TO VIEW FULL LIST</small></a>
            <br>
            <hr>
            <div class="row">
                <div class="col col-50">
                    <a ng-click="cancelCreateTask()" class="button button-block button-stable">
                        Cancel
                    </a>
                </div>
                <div class="col col-50">
                    <button class="button button-block button-positive" type="submit">
                        Send
                    </button>
                </div>
            </div>
        </form>
    </ion-content>
</ion-view>
